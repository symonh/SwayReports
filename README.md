# SwayReports

This repository contains a collection of Sway instructor reports and a showcase website to display them. The reports are HTML files with data visualizations and instructor summaries of class discussions.

## Repository Structure

- `instructor_reports/`: Contains the processed HTML files for instructor reports
- `instructor_reports_backup/`: Contains backups of the original HTML files (created when running the scripts)
- `instructor_reports_showcase.html`: The main showcase webpage that displays all reports with category filters
- `preprocess_reports.py`: Script to preprocess HTML files by removing Sway header and social sharing sections
- `update_showcase.py`: Script to update the showcase webpage with the latest reports
- `update_reports.py`: Main script that runs both preprocessing and showcase update

## Scripts

### update_reports.py

The main script that runs both the preprocessing and showcase update. Use this script to perform the complete process.

```bash
python update_reports.py
```

### preprocess_reports.py

This script preprocesses the HTML files by removing the Sway header and social sharing sections. It creates backups of the original files in the `instructor_reports_backup` directory.

```bash
python preprocess_reports.py
```

### update_showcase.py

This script updates the showcase webpage with the latest reports from the `instructor_reports` directory. It automatically extracts titles and infers categories based on the content of each report.

```bash
python update_showcase.py
```

## Requirements

The scripts require Python 3.6+ and the following packages:
- beautifulsoup4

Install the required package with:

```bash
pip install beautifulsoup4
```

## Usage

1. Place the instructor report HTML files in the `instructor_reports` directory
2. Run the main script:
   ```bash
   python update_reports.py
   ```
3. Open `instructor_reports_showcase.html` in a web browser to view the showcase

## Modifying the Showcase

The showcase webpage (`instructor_reports_showcase.html`) includes:
- Theme toggle (light/dark mode)
- Category filters
- Responsive design for different screen sizes
- Links to view the full reports

If you need to modify the showcase design, you can edit the CSS styles in the `instructor_reports_showcase.html` file.

## Notes

- The preprocessing script uses BeautifulSoup to parse and modify the HTML, preserving the structure while removing unwanted elements.
- The showcase update script automatically infers categories based on keywords in the report content.
- Backups are created for all files before any modifications are made.

# Sway Reports PDF Converter

A tool to convert HTML instructor reports to paginated PDFs while preserving exact appearance.

## Features

- Converts HTML reports to paginated PDFs
- Preserves exact appearance and styling
- Intelligent pagination (avoids breaking elements like tables and images)
- Customizable page format, margins, and scaling
- Optional headers and footers with page numbers

## Instructor Reports Showcase

The `instructor_reports_showcase.html` page provides a polished, searchable, and filterable web showcase of instructor reports generated by Sway. It is modeled after the student feedback showcase and is suitable for publishing on Github Pages or similar static hosting. Each card displays the assignment title, a short description, and a link to the full report. The site supports dark/light mode, responsive design, and category filtering for easy browsingâ€”even with dozens of reports.

To use:
- Open `instructor_reports_showcase.html` in your browser or upload it to Github Pages.
- Reports are linked to the HTML files in the `instructor_reports/` directory.
- The showcase is auto-generated; edit with care if making manual changes.

## Installation

```bash
# Clone the repository
git clone <your-repository-url>
cd SwayReports

# Install dependencies
npm install
```

## Usage

### Basic Usage

```bash
# Convert a single HTML file
node htmlToPdf.js --input html/Report.html

# Convert all HTML files in a directory
node htmlToPdf.js --input html/
```

### Available Options

```
Options:
  --input, -i     Input HTML file or directory                [string] [required]
  --output, -o    Output PDF directory                     [string] [default: "pdfs"]
  --format, -f    Page format                               [string] [default: "A4"]
  --margin, -m    Margins in CSS format (e.g. "1cm")       [string] [default: "1cm"]
  --scale, -s     Scale factor for the page               [number] [default: 1.0]
  --header, -h    Include header                          [boolean] [default: true]
  --footer        Include footer with page numbers        [boolean] [default: true]
  --help          Show help                                                [boolean]
```

### Examples

```bash
# Convert a single file with custom options
node htmlToPdf.js --input html/Report.html --output my-pdfs --format Letter --margin 0.5in --scale 0.9

# Convert all HTML files without headers and footers
node htmlToPdf.js --input html/ --header false --footer false

# Use npm script
npm run convert -- --input html/
```

## How It Works

This tool uses Playwright to render HTML pages exactly as they would appear in a browser, then applies intelligent pagination using CSS print styles. The pagination logic:

1. Prevents page breaks within images, tables, and figures
2. Avoids orphaned or widowed text (prevents single lines at top/bottom of pages)
3. Keeps headings with their following content
4. Preserves all styling, colors, and backgrounds

## Requirements

- Node.js 14+
- Playwright (automatically installed) 