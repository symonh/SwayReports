
<!doctype html>
<html lang="en" class="light-mode">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Aurelia Brouwers, Active Euthanasia and Related Topics</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.2/darkly/bootstrap.min.css" id="theme-css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    :root {
      /* Dark mode theme variables (default) */
      --bg-color: #121212;
      --card-bg: #1e1e2d;
      --card-header-bg: #252538;
      --text-color: #e4e6eb;
      --muted-text-color: #a9adc1;
      --border-color: #2d2d43;
      --button-bg: #252538;
      --button-hover-bg: #3a3a59; 
      --primary-color: #8a8aff;
      --input-bg: #252538;
      --message-left-bg: #252538;
      --message-right-bg: #1a1a2e;
    }

    /* Light mode theme variables */
    html.light-mode {
      /* Base colors */
      --bg-color: #f5f7fa;
      --card-bg: #ffffff;
      --card-header-bg: #f0f5fc;
      --text-color: #2c3e50;
      --muted-text-color: #5a6a7e;
      --border-color: #d1d9e6;
      
      /* UI elements - using purple theme */
      --button-bg: #eef2f7; /* keeping grey for basic buttons */
      --button-hover-bg: #d9e2ec; /* keeping grey hover for basic buttons */
      --primary-color: #23004D; /* new purple theme color */
      --input-bg: #ffffff;
      
      /* Message colors */
      --message-left-bg: #eef2f7;
      --message-right-bg: #e6f0ff;
    }

    /* Additional light mode specific overrides for purple theme */
    html.light-mode .card {
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    html.light-mode .card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }

    html.light-mode .card-header {
      border-bottom: 1px solid var(--border-color);
    }

    /* Purple theme for headings and section titles */
    html.light-mode .section-title {
      border-bottom: 1px solid #23004D;
      color: #23004D;
    }

    html.light-mode .section-title i {
      color: #23004D;
    }

    html.light-mode .markdown-content h1,
    html.light-mode .markdown-content h2,
    html.light-mode .markdown-content h3,
    html.light-mode .markdown-content h4,
    html.light-mode .markdown-content h5,
    html.light-mode .markdown-content h6 {
      color: #23004D;
    }

    /* Purple theme for icons */
    html.light-mode .fas,
    html.light-mode .far,
    html.light-mode .fab {
      color: #23004D;
    }

    /* Keep header buttons grey */
    html.light-mode .header-actions .back-btn i,
    html.light-mode .header-actions .nav-btn i {
      color: inherit;
    }

    /* Thread items */
    html.light-mode .thread-item {
      background-color: #ffffff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }

    html.light-mode .thread-item:hover {
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      border: 2px solid #23004D;
    }

    html.light-mode .thread-item a {
      color: #23004D;
    }

    /* Badges and info elements */
    html.light-mode .badge-info {
      background-color: #e6e0f0;
      color: #23004D;
    }

    html.light-mode .text-info {
      color: #23004D !important;
    }

    /* Buttons with purple theme */
    html.light-mode .btn-primary {
      background-color: #23004D;
      border-color: #23004D;
    }

    html.light-mode .btn-primary:hover {
      background-color: #380080;
      border-color: #380080;
    }

    /* Content elements */
    html.light-mode .markdown-content code,
    html.light-mode .markdown-content pre {
      background-color: #f0f3f8;
      border: 1px solid #e0e5ee;
    }

    html.light-mode .markdown-content blockquote {
      background-color: #f0f3f8;
      border-left: 4px solid #23004D;
    }

    html.light-mode .markdown-content a {
      color: #23004D;
    }

    /* Info boxes and containers */
    html.light-mode .info-box {
      background-color: #f8fafd;
      border: 1px solid var(--border-color);
    }

    /* Topic labels and special text */
    html.light-mode .text-info {
      color: #23004D !important;
    }

    html.light-mode .col-label {
      color: #23004D;
    }

    /* Thread summary section styling */
    html.light-mode .thread-summary strong {
      color: #23004D;
    }

    /* Keep the orange buttons distinct */
    html.light-mode .btn-orange {
      background-color: #ff7200;
      border-color: #ff7200;
    }

    html.light-mode .btn-orange:hover {
      background-color: #e66800;
      border-color: #e66800;
    }

    /* Theme toggle styling */
    html.light-mode .theme-toggle-slider {
      background-color: #d9e2ec;
    }

    html.light-mode .theme-toggle-slider:before {
      background-color: #ffffff;
    }

    html.light-mode input:checked + .theme-toggle-slider {
      background-color: #23004D;
    }

    /* Pagination with purple theme */
    html.light-mode .page-item.active .page-link {
      background-color: #23004D;
      border-color: #23004D;
    }

    html.light-mode .page-link:hover {
      color: #23004D;
    }

    /* Apply theme variables to elements */
    body { 
      margin: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      transition: background-color 0.3s ease;
    }
    .dashboard-container {
      padding: 10px;
      max-width: 100%;
      margin: 0 auto;
    }
    @media (min-width: 576px) {
      .dashboard-container {
        padding: 15px;
      }
    }
    @media (min-width: 768px) {
      .dashboard-container {
        padding: 25px;
        margin-left: 10px;
        margin-right: 10px;
      }
    }
    @media (min-width: 1200px) {
      .dashboard-container {
        margin-left: 10px;
        margin-right: 10px;
      }
    }
    .card {
      background-color: var(--card-bg);
      border: none;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      margin-bottom: 25px;
      transition: transform 0.2s, box-shadow 0.2s, background-color 0.3s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 7px 20px rgba(0,0,0,0.3);
    }
    .card-header {
      font-size: 1.2rem;
      font-weight: 500;
      background-color: var(--card-header-bg);
      border-bottom: 1px solid var(--border-color);
      border-radius: 10px 10px 0 0 !important;
      padding: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      transition: background-color 0.3s ease;
    }
    @media (min-width: 576px) {
      .card-header {
        font-size: 1.4rem;
        padding: 15px 20px;
      }
    }
    .card-title {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      margin-bottom: 10px;
      width: 100%;
    }
    
    .card-title .title-text {
      display: flex;
      align-items: center;
    }
    
    .card-title .badge {
      margin-left: 10px;
    }
    
    .generated-title {
      font-size: 1.4rem;
      font-weight: 600;
      margin-top: 5px;
      font-style: italic;
      margin-bottom: 5px;
      color: var(--primary-color) !important;
    }
    
    @media (min-width: 768px) {
      .card-title {
        margin-bottom: 0;
        width: auto;
      }
    }
    .card-body {
      padding: 15px;
      transition: background-color 0.3s ease;
    }
    @media (min-width: 576px) {
      .card-body {
        padding: 20px 25px;
      }
    }
    .section-title {
      margin-top: 20px;
      font-size: 1.2rem;
      font-weight: 500;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border-color);
      color: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      flex-wrap: wrap;
      transition: border-color 0.3s ease, color 0.3s ease;
    }
    .section-title i {
      margin-right: 10px;
    }
    .section-title .title-text {
      display: flex;
      align-items: center;
    }
    .section-title .actions {
      margin-left: auto;
      margin-top: 10px;
      width: 100%;
      text-align: right;
    }
    @media (min-width: 768px) {
      .section-title .actions {
        margin-top: 0;
        width: auto;
      }
    }
    .detail-item {
      margin-bottom: 15px;
      padding: 10px 15px;
      background-color: var(--card-header-bg);
      border-radius: 6px;
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      transition: background-color 0.3s ease;
    }
    .detail-item strong {
      min-width: 140px;
      color: var(--muted-text-color);
    }
    .list-group-item {
      background-color: var(--card-header-bg);
      color: var(--text-color);
      border: none;
      border-radius: 6px;
      margin-bottom: 8px;
      transition: background-color 0.2s, color 0.3s ease;
    }
    .list-group-item:hover {
      background-color: var(--button-hover-bg);
    }
    .badge {
      font-size: 0.9em;
      padding: 6px 12px;
      border-radius: 50px;
      font-weight: 500;
      margin-left: 10px;
    }
    .badge-available {
      background-color: #28a745;
      color: #fff;
    }
    .badge-active {
      background-color: #007bff;
      color: #fff;
    }
    .badge-completed {
      background-color: #6c757d;
      color: #fff;
    }
    .badge-cancelled {
      background-color: #dc3545;
      color: #fff;
    }
    .back-btn {
      background-color: var(--button-bg);
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      transition: background-color 0.2s, color 0.3s ease;
      color: var(--text-color);
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      font-size: 0.9rem;
      margin-bottom: 10px;
    }
    @media (min-width: 768px) {
      .back-btn {
        margin-bottom: 0;
      }
    }
    .back-btn i {
      margin-right: 8px;
    }
    .back-btn:hover {
      background-color: var(--button-hover-bg);
      color: var(--text-color);
      text-decoration: none;
    }
    .header-actions {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      justify-content: flex-end;
      width: 100%;
    }
    @media (min-width: 768px) {
      .header-actions {
        width: auto;
      }
    }
    .refresh-button {
      margin-right: 16px;
      display: flex;
      align-items: center;
    }
    .icon-btn {
      background: none;
      border: none;
      color: #8a8aff;
      font-size: 1.2rem;
      cursor: pointer;
      width: 34px;
      height: 34px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }
    .icon-btn:hover {
      background-color: rgba(138, 138, 255, 0.1);
      transform: rotate(180deg);
    }
    .icon-btn:focus {
      outline: none;
    }
    .icon-btn:active {
      transform: rotate(180deg) scale(0.9);
    }
    .info-box {
      padding: 15px;
      background-color: var(--card-header-bg);
      border-radius: 8px;
      margin-bottom: 20px;
      transition: background-color 0.3s ease;
    }
    .col-label {
      color: var(--muted-text-color);
      font-weight: 500;
      transition: color 0.3s ease;
    }
    .col-value {
      font-weight: 400;
    }
    .utc-time {
      opacity: 0;
      transition: opacity 0.3s;
    }
    .local-time {
      opacity: 1;
    }
    /* New Chat Threads Section Styling */
    .thread-list {
      margin-top: 30px;
      column-count: 1;
      column-gap: 15px;
    }
    @media (min-width: 768px) {
      .thread-list {
        column-count: 2;
      }
    }
    .thread-item {
      display: inline-block; /* Required for column layout */
      width: 100%;
      margin-bottom: 15px;
      padding: 15px;
      background-color: var(--card-header-bg);
      border-radius: 12px;
      transition: all 0.2s ease, background-color 0.3s ease;
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
      break-inside: avoid; /* Prevents items from breaking across columns */
      transform: translateY(0);
      border: 2px solid transparent;
    }
    .thread-item:hover {
      background-color: var(--card-bg);
      transform: translateY(-5px);
      box-shadow: 0 10px 16px rgba(0,0,0,0.25);
      border: 2px solid #ff851b;
    }
    .thread-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    .thread-header .thread-actions {
      display: flex;
      align-items: center;
      margin-left: 30px;
    }
    .thread-item a {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 500;
      display: inline-block;
      margin-bottom: 5px;
      transition: color 0.3s ease;
    }
    .thread-item a:hover {
      text-decoration: underline;
    }
    .thread-summary {
      font-size: 0.9em;
      color: var(--muted-text-color);
      margin-top: 5px;
      margin-left: 10px;
      line-height: 1.5;
      transition: color 0.3s ease;
    }
    .thread-summary p {
      margin-bottom: 0.5em;
    }
    .thread-summary ul,
    .thread-summary ol {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
      padding-left: 1.5em;
    }
    .thread-summary li {
      margin-bottom: 0.3em;
    }
    .thread-summary a {
      color: var(--primary-color);
    }
    .thread-summary code {
      background-color: var(--card-header-bg);
      border-radius: 3px;
      padding: 2px 5px;
      font-family: monospace;
      transition: background-color 0.3s ease;
    }
    .thread-status {
      font-size: 0.8em;
      margin-top: 3px;
      margin-left: 10px;
    }
    /* Markdown content styling */
    .markdown-content {
      line-height: 1.6;
      overflow-wrap: break-word;
      word-wrap: break-word;
    }
    .markdown-content h1,
    .markdown-content h2,
    .markdown-content h3,
    .markdown-content h4,
    .markdown-content h5,
    .markdown-content h6 {
      margin-top: 1.5em;
      margin-bottom: 0.75em;
      color: var(--primary-color);
      font-weight: 500;
      transition: color 0.3s ease;
    }
    .markdown-content h1 {
      font-size: 1.7em;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 0.3em;
      transition: border-color 0.3s ease;
    }
    .markdown-content h2 {
      font-size: 1.5em;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 0.3em;
      transition: border-color 0.3s ease;
    }
    .markdown-content h3 {
      font-size: 1.3em;
    }
    .markdown-content h4 {
      font-size: 1.1em;
    }
    .markdown-content p {
      margin-bottom: 1em;
    }
    .markdown-content ul, 
    .markdown-content ol {
      margin-bottom: 1em;
      padding-left: 2em;
    }
    .markdown-content li {
      margin-bottom: 0.5em;
    }
    /* Proper nested list styling */
    .markdown-content ul ul,
    .markdown-content ul ol,
    .markdown-content ol ul,
    .markdown-content ol ol {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }
    .markdown-content li > ul,
    .markdown-content li > ol {
      margin-left: 1em;
    }
    .markdown-content blockquote {
      padding: 0.5em 1em;
      margin-left: 0;
      margin-right: 0;
      background-color: var(--card-header-bg);
      border-left: 4px solid var(--primary-color);
      margin-bottom: 1em;
      transition: background-color 0.3s ease, border-left-color 0.3s ease;
    }
    .markdown-content code {
      background-color: var(--card-header-bg);
      border-radius: 3px;
      padding: 2px 5px;
      font-family: monospace;
      transition: background-color 0.3s ease;
    }
    .markdown-content pre {
      background-color: var(--card-header-bg);
      border-radius: 5px;
      padding: 1em;
      overflow-x: auto;
      margin-bottom: 1em;
      transition: background-color 0.3s ease;
    }
    .markdown-content table {
      border-collapse: collapse;
      margin-bottom: 1em;
      width: 100%;
    }
    .markdown-content table th,
    .markdown-content table td {
      border: 1px solid var(--border-color);
      padding: 0.5em;
      transition: border-color 0.3s ease;
    }
    .markdown-content table th {
      background-color: var(--card-header-bg);
      text-align: left;
      transition: background-color 0.3s ease;
    }
    .markdown-content strong {
      font-weight: 600;
      color: var(--text-color);
      transition: color 0.3s ease;
    }
    .markdown-content em {
      font-style: italic;
    }
    /* Mobile-specific styles */
    @media (max-width: 767.98px) {
      .row:not(.mb-3) {
        margin-right: -5px;
        margin-left: -5px;
      }
      .row:not(.mb-3) > .col, 
      .row:not(.mb-3) > [class*="col-"] {
        padding-right: 5px;
        padding-left: 5px;
      }
      .btn {
        padding: 0.375rem 0.5rem;
      }
      .btn-orange {
        width: 100%;
        margin-bottom: 10px;
      }
      #report-btn, #generate-btn, #cancel-btn {
        width: 100%;
      }
    }
    /* End markdown styling */

    /* Limit Topics container height to not expand beyond the left column's Info container */
    #topics-container {
        max-height: 345px;
        min-height: 345px;
        overflow-y: auto;
    }
    
    /* New Opinion Histograms styling */
    .histogram-container {
      background-color: var(--card-bg);
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s ease, background-color 0.3s ease, box-shadow 0.3s ease;
    }
    .histogram-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    }
    .histogram-container img {
      max-width: 100%;
      border-radius: 6px;
      display: block;
      margin: 0 auto;
    }
    @media (max-width: 767.98px) {
      .col-md-6.col-lg-4.mb-4 {
        padding-left: 10px;
        padding-right: 10px;
      }
      .histogram-container {
        padding: 10px;
      }
    }

    /* Theme toggle switch styling */
    .theme-toggle {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    
    .theme-toggle-switch {
      position: relative;
      display: inline-block;
      width: 52px;
      height: 26px;
    }
    
    .theme-toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .theme-toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #2d2d43;
      transition: .4s;
      border-radius: 34px;
    }
    
    .theme-toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .theme-toggle-slider {
      background-color: #4a4a69;
    }
    
    input:checked + .theme-toggle-slider:before {
      transform: translateX(26px);
    }
    
    .theme-toggle-icon {
      color: var(--text-color);
      font-size: 16px;
    }
  </style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>

<script>
  // Detect dark mode from URL parameter
  function isDarkModeEnabled() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('darkmode') === 'true';
  }

  // Initialize dark mode if needed
  if (isDarkModeEnabled()) {
    // Add immediate style to prevent flash of light content
    document.documentElement.style.backgroundColor = '#1a1a1a';
    document.documentElement.style.color = '#e6e6e6';
  }
</script>

<style id="darkmode-styles">
  /* Dark mode styles will be enabled via JavaScript */
</style>
</head>
<body>
<div class="dashboard-container">
  <div class="card">
    <div class="card-header">
      <div class="card-title">
        <div class="title-text"><i class="fas fa-tasks mr-2"></i> Assignment Details</div>
        
        
        
        
      </div>
      
    </div>
    <div class="card-body">
      <div class="row">
        <!-- Left column: General Information & Timelines -->
        <div class="col-md-6">
          <h5 class="section-title">
            <div class="title-text"><i class="fas fa-calendar-alt"></i> Timelines</div>
          </h5>
          
            <div id="timelines-container" class="info-box">
              
                <div class="row mb-2">
                  <div class="col-5 col-label">Completion deadline:</div>
                  <div class="col-7 col-value">
                    <span class="utc-time" data-utc-time="2025-03-05 05:59:00+00:00">2025-03-05 05:59:00+00:00</span>
                    <span class="local-time"></span>
                  </div>
                </div>
              
                <div class="row mb-2">
                  <div class="col-5 col-label">Opinion deadline:</div>
                  <div class="col-7 col-value">
                    <span class="utc-time" data-utc-time="2025-03-02 05:59:00+00:00">2025-03-02 05:59:00+00:00</span>
                    <span class="local-time"></span>
                  </div>
                </div>
              
            </div>
          

          <h5 class="section-title mt-4">
            <div class="title-text"><i class="fas fa-info-circle"></i> Info</div>
          </h5>
          <div id="info-container" class="info-box">
            <div class="row mb-3">
              <div class="col-5 col-label">Instructor:</div>
              <div class="col-7 col-value">[redacted]</div>
            </div>
            <div class="row mb-3">
              <div class="col-5 col-label">Min. chat time:</div>
              <div class="col-7 col-value">
                
                  25 minutes
                
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-5 col-label">Created on:</div>
              <div class="col-7 col-value">
                <span class="utc-time" data-utc-time="2025-02-25 19:10:31.370576+00:00">2025-02-25 19:10:31.370576+00:00</span>
                <span class="local-time"></span>
              </div>
            </div>
            
            
            <div class="row mb-3">
              <div class="col-5 col-label">Chat threads:</div>
              <div class="col-7 col-value">14 (13 disagree)</div>
            </div>
          </div>
        </div>

        <!-- Right column: Topics and Chat Threads -->
        <div class="col-md-6">
          <h5 class="section-title">
            <div class="title-text"><i class="fas fa-bookmark"></i> Topics</div>
          </h5>
          
            <div id="topics-container" class="info-box">
              
                <div class="mb-3">
                  <div class="text-info mb-1 font-weight-bold">Aurelia Brouwers</div>
                  <div>It was morally permissible for the End of Life Clinic to grant Aurelia Brouwers&#39;s request for euthanasia.</div>
                </div>
                <hr class="my-3" style="border-color: #2d2d43;">
              
                <div class="mb-3">
                  <div class="text-info mb-1 font-weight-bold">Active Euthanasia</div>
                  <div>We ought to legalize the practice of active euthanasia across the world.</div>
                </div>
                <hr class="my-3" style="border-color: #2d2d43;">
              
                <div class="mb-3">
                  <div class="text-info mb-1 font-weight-bold">Killing and Letting Die</div>
                  <div>Killing is not in any morally significant way different from letting die.</div>
                </div>
                
              
              <!-- Removed toggle link; topics will scroll if content overflows -->
            </div>
          
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-12">
          <h5 class="section-title">
            <div class="title-text"><i class="fas fa-chart-bar mr-1"></i> Opinion Distribution</div>
            
          </h5>
          <div class="text-muted small mb-2">
            <i class="fas fa-info-circle mr-1"></i>Opinion scale: -3 Strongly Disagree to +3 Strongly Agree
          </div>
          <div class="info-box">
            
              <div class="row">
                
                  <div class="col-md-6 col-lg-4 mb-4">
                    <div class="histogram-container">
                      <img src="data:image/png;base64,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XE5ntanV5Squ49ixfI4cyffLPMxmE3Z7EA5HER4/HPWUtOlyVZ/vFarvsvZ4vH5ZDgBmswevx4vX66kWy1rrt/9Ut/XbCGZz5QPX8MeCTuWcAiAvN7fcuJKj2iB7zT71IyIi8muGB+7p03lkZ2cR3yCh3LjomBgAsrOzjS5LRETErwLywxebNq6nQYMEOnbqXDrMYrHS+8q+nM7LY/++PYEoS0RExG8C8sMXy5csptOlXbh1/B2sWb2K7Owskrv3IC4unk+mf1jpO8BERESqq4AEblFRIZMnvsbwq0eS3L0HQcHBpKcd44P33mHH9q2BKElERMSvAva2oDNn8pk1cwazZs4IVAkiIiKG0ftwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDVFngBgUFV1VTIiIitY7PgfvMcy+cdfjjTz170cWIiIjUVtaKTBQTG8t1427GZIKg4GD+cN8DZcYHBYdQUFDglwJFRERqgwoF7skTJ/hxyw+Eh4fTvEVL9u3dU2a80+lk+7atlS6iYaPGPPjwIyxbsogli76sdDsiIiLVVYUCF+DbNd8AkHXyJBvWr6uyAsxmMzfefCsWi6XK2hQREaluKhy4JTasX0eTps245JI4TCZTuXG+GjRkOHHx8T5/TkREpCbxOXCHXz2KAYOGkJt7Co/bXTrci++Bm5DQkIGDh7Js8UKGXT3S11JERERqDJ8DN7l7D6a9+za7dm6/qBmbzWZuuPlWdm7fxubNmxS4IiJSq/kcuPagoIsOW4ABg4YQHRPLtKlvExwcctHtAZhMYLPZqqQtf7HabFitVqzVqE6rtbgWs9mE2Wy6wNSVYzKZMZlNmExmzGZPlbdfUrfVaqs264CWdfVY1nWxzyUSEuKIjIys8noALFYrUVGRxMfH4na5/DIPgJycHNLSMvzWvq9MJvB6K/dZnwN3x/atJCZ1Z9PG9ZWbIxDfIIHBQ4cz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X1QdUdFRANhsduz2qt9Imsym0hXH66nkUrsAm80OFPflkri4C07v7z6D//vta58B4uJi+ejD1wkODqryeoxUWFjE+NsfIiPjxAWnrYvLui72uWTaks/WlW2ZEXJycvF4KreDUS0Cd+y4m0hM6s7ePaksW7Ko0u243S4yMyq2p38usTGRADidDhyOootq62xMpuLL5o4iB16vf/YKnc7ixZqdlV2h78PffQb/99vXPkNxv4ODg/joo92kp5+p8ppMJjM2uxWnw+W3Zd2gQSjjx7fFU8F1vy4u67rYZ6ib2zIjWCyVP9IOaOBaLBZuumU83ZKSOXTwAO9PnVLpPQcoPsx3Op0XVZPLVfx5j8eLxw97bWazB6/Hi9fr8Uv7QGm7LpezQt+Hv/sM/u+3r30umRbg2LF8jhzJr/KazGYTdnsQDkeRlnUVUp99W7/r0rbMCGZzDQxcm83G7XfcRbsOHdm3dw/T3n2LoiL/7H2KiIgEWkAC12w2M/6OO2nXoSPbt23l4w/fw1VN9l5ERET8ISCBO2TY1bTv0IltP27how+mXtRpZBERkZrA8MANCw+n34BBuN1udu/aSbfE5HLTpKbuIi831+jSRERE/MbwwG3evGXpreRjrr/hrNNMnTKJXQpcERGpRQwP3G1bt/DIw/cbPVsREZGA0vtwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEANZAzTgqKpoR14ymVes2WCxW9qbuZt7cWWRnnQxUSSIiIn4TkCPc0NAw7pnwIK1at2H1qpUsW7yQZs1bMOGBhwkLCw9ESSIiIn4VkMDt238gkVHRTJ0ymWVLFvH1ymVMeesNwuvVY8CgIYEoSURExK8CErjdkpI5dPAAR48cLh12PD2NvXt20y0xORAliYiI+JXhgRsSEkJMTCxHDh8qN+7I4cPUj4ykXkSE0WWJiIj4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" alt="Opinion distribution for Aurelia Brouwers" class="img-fluid" />
                    </div>
                  </div>
                
                  <div class="col-md-6 col-lg-4 mb-4">
                    <div class="histogram-container">
                      <img src="data:image/png;base64,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" alt="Opinion distribution for Active Euthanasia" class="img-fluid" />
                    </div>
                  </div>
                
                  <div class="col-md-6 col-lg-4 mb-4">
                    <div class="histogram-container">
                      <img src="data:image/png;base64,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qtFfaSwWC94SNiL/yLSzlP9o0M23EBlZk3lzvsdVwT/4oCAbsXExla4lOiYaALvdgcPhuw8fi9VSuGK9ntJXTlnZ7Q4gv+5a8fHnXNZfvUFg9+ev3qB8/cXHxzFzxlhCQoJ9WoM/5eQ4GTZ8NEePpp1zuUBfd9Wtv6rQG1SN/kqTkZ6Jy1X6l4EqEbgDBw2mbbsO7EnezYL5cys8jtvt4tjR0r9JlyYuNgqAvLxccnOdlR6vgMWSf8g815mL1+u7b2p5efmrMf1Eeqn9+6s3COz+/NUblL+/kJBgZs7cRWrqaZ/VYLFYsTts5OW6fNpf7dphDBvWHE8Z/jb/DOsu/2eqR39VoTeoGv2Vxmot2xayqYEbFBTE4FuGkdSuPb/t28v7Uyfh8VT8DfV6IS8vr9J1uVz5Y3g8Xjw+/EZltXrwerx4vR6fjlswlsuVV2r//uoNArs/f/UGFevv0KFsDhzI9lkNVqsFhyOY3Fyn1l05BHJ/VaE3qBr9lcbhKFuUmha4drud4SPuosUFF5KyJ5lpU97F6fTtNyMREZGqwpTAtVqtDBsxkhYXXMj2bVv5YMZ7uHywZSoiIlJVmRK4l1/Rn/MvaMm2LZuZOX1qpXYji4iIVAeGB254RASX9roMt9vNrp07SGrbvtgyu3fvJCsz0+jSRERE/MbwwG3YsHHhKd7X33hTictMnTSenQpcEREJIIYH7ratm/nbIw8Y/bIiIiKm0vNwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQAClwREREDKHBFREQMoMAVERExgAJXRETEAApcERERAyhwRUREDKDAFRERMYACV0RExAAKXBEREQMocEVERAygwBURETGAAldERMQANrNeODo6hgHXXEeTps0ICrKxZ/cuvv1mFuknjptVkoiIiN+YsoUbFhbOvaMeoknTZixbsogF8+ZwXsNGjHrwEcLDI8woSURExK9MCdwePXsT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" alt="Opinion distribution for Killing and Letting Die" class="img-fluid" />
                    </div>
                  </div>
                
              </div>
            
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-12">
          <h5 class="section-title">
            <div class="title-text">
              <i class="fas fa-file-alt mr-1"></i> Instructor Report
            </div>
            
          </h5>
          <div class="info-box" id="report-section">
            
              <div id="report-content" class="markdown-content"><p>This assignment tasked students with analyzing the ethical permissibility of euthanasia in various forms—including active euthanasia, the moral equivalence of killing versus letting die, and the specifics of consent in cases such as Aurelia Brouwers's request. Students explored these topics by debating the need for strict regulatory safeguards, the balance between patient autonomy and societal responsibility, and the challenges of distinguishing between intentional harm and passive omission, all under the incisive moderation of Guide.</p>
<h3>Themes</h3>
<ul>
<li><strong>Common ground emerged around the need for rigorous safeguards and thoughtful evaluation.</strong> Students across groups frequently endorsed multi-step validation procedures, careful oversight, and the importance of balancing patient autonomy with comprehensive medical assessments.  </li>
<li><strong>Persistent disagreements centered on the weighting of autonomy versus cautious medical intervention.</strong> Divergent positions arose on whether consent alone could justify euthanasia and whether inaction should be equated morally with active intervention, prompting Guide to repeatedly ask for clearer justifications.</li>
</ul>
<h3>Guide's Role</h3>
<ul>
<li><strong>Guide actively challenged oversimplified positions with incisive, reflective inquiries.</strong> Its targeted questions about consent, intention, and the criteria for ethical decision-making pushed students to examine inconsistencies and deepen their analyses.  </li>
<li><strong>Guide maintained a balanced dialogue by introducing scenario-based probes and reframing arguments.</strong> This strategy compelled participants to consider alternative perspectives—such as the differences between active harm and passive omission—and to articulate more nuanced, context-sensitive positions.</li>
</ul>
<h3>Insights</h3>
<ul>
<li><strong>Debates consistently highlighted the critical importance of regulatory safeguards in euthanasia decisions.</strong> Students often converged on the idea that robust checks, including multiple clinical evaluations and ethical oversight, are essential, regardless of the method of euthanasia.  </li>
<li><strong>The discussions revealed a growing awareness of the complex interplay between intention and consequence in moral evaluations.</strong> By repeatedly invoking scenarios that questioned the moral equivalence of killing and letting die, students demonstrated an evolving capacity for deep ethical reasoning.</li>
</ul>
<h3>Misconceptions</h3>
<ul>
<li><strong>Some discussions conflated passive inaction with deliberate harm without sufficiently weighing intent.</strong> This oversimplification sometimes led to the assumption that similar outcomes inherently justify equivalent moral responsibility, neglecting the nuanced role of deliberate choice.  </li>
<li><strong>A few arguments implied that quality-of-life assessments are straightforward and easily measurable criteria.</strong> In reality, the debates indicated that evaluating diminished quality of life versus the possibility of recovery requires more complex and contextually sensitive analysis.</li>
</ul>
<h3>Lessons</h3>
<ul>
<li><strong>Guide’s probing strategies fostered deeper reflection and clarity in students’ ethical reasoning.</strong> The use of targeted questions to challenge vague or overly simplistic arguments proved effective in pushing students toward more substantively supported positions.  </li>
<li><strong>Future sessions could benefit from explicitly addressing the nuanced differences between active intervention and passive omission.</strong> Emphasizing detailed case studies and establishing clear, shared criteria for evaluating ethical decisions may further improve the quality and clarity of student debates.</li>
</ul></div>
              <div class="text-muted mt-2">
                Generated on: <span class="utc-time" data-utc-time="2025-03-30T22:52:09.635000+00:00">2025-03-30T22:52:09.635000+00:00</span><span class="local-time"></span>
                
              </div>
              <!-- Add the editor container here -->
              <div id="report-editor-container" style="display: none;">
                <div class="alert alert-info">
                  <i class="fas fa-info-circle mr-2"></i> Edit the report in markdown format.
                </div>
                <textarea id="report-markdown-editor" class="form-control">This assignment tasked students with analyzing the ethical permissibility of euthanasia in various forms—including active euthanasia, the moral equivalence of killing versus letting die, and the specifics of consent in cases such as Aurelia Brouwers&#39;s request. Students explored these topics by debating the need for strict regulatory safeguards, the balance between patient autonomy and societal responsibility, and the challenges of distinguishing between intentional harm and passive omission, all under the incisive moderation of Guide.

### Themes
- **Common ground emerged around the need for rigorous safeguards and thoughtful evaluation.** Students across groups frequently endorsed multi-step validation procedures, careful oversight, and the importance of balancing patient autonomy with comprehensive medical assessments.  
- **Persistent disagreements centered on the weighting of autonomy versus cautious medical intervention.** Divergent positions arose on whether consent alone could justify euthanasia and whether inaction should be equated morally with active intervention, prompting Guide to repeatedly ask for clearer justifications.

### Guide&#39;s Role
- **Guide actively challenged oversimplified positions with incisive, reflective inquiries.** Its targeted questions about consent, intention, and the criteria for ethical decision-making pushed students to examine inconsistencies and deepen their analyses.  
- **Guide maintained a balanced dialogue by introducing scenario-based probes and reframing arguments.** This strategy compelled participants to consider alternative perspectives—such as the differences between active harm and passive omission—and to articulate more nuanced, context-sensitive positions.

### Insights
- **Debates consistently highlighted the critical importance of regulatory safeguards in euthanasia decisions.** Students often converged on the idea that robust checks, including multiple clinical evaluations and ethical oversight, are essential, regardless of the method of euthanasia.  
- **The discussions revealed a growing awareness of the complex interplay between intention and consequence in moral evaluations.** By repeatedly invoking scenarios that questioned the moral equivalence of killing and letting die, students demonstrated an evolving capacity for deep ethical reasoning.

### Misconceptions
- **Some discussions conflated passive inaction with deliberate harm without sufficiently weighing intent.** This oversimplification sometimes led to the assumption that similar outcomes inherently justify equivalent moral responsibility, neglecting the nuanced role of deliberate choice.  
- **A few arguments implied that quality-of-life assessments are straightforward and easily measurable criteria.** In reality, the debates indicated that evaluating diminished quality of life versus the possibility of recovery requires more complex and contextually sensitive analysis.

### Lessons
- **Guide’s probing strategies fostered deeper reflection and clarity in students’ ethical reasoning.** The use of targeted questions to challenge vague or overly simplistic arguments proved effective in pushing students toward more substantively supported positions.  
- **Future sessions could benefit from explicitly addressing the nuanced differences between active intervention and passive omission.** Emphasizing detailed case studies and establishing clear, shared criteria for evaluating ethical decisions may further improve the quality and clarity of student debates.</textarea>
                <div class="mt-3">
                  <button id="save-report-btn" class="btn btn-primary">
                    <i class="fas fa-save mr-1"></i> Save Changes
                  </button>
                  <button id="cancel-report-edit-btn" class="btn btn-secondary ml-2">
                    <i class="fas fa-times mr-1"></i> Cancel
                  </button>
                  <span id="editor-spinner" class="spinner-border spinner-border-sm ml-2" role="status" style="display: none;"></span>
                </div>
                <div id="editor-status-message" class="status-message mt-3" style="display: none;"></div>
              </div>
            
          </div>
        </div>
      </div>

      <div class="row mt-2">
        <div class="col-12">
          <h5 class="section-title">
            <div class="title-text"><i class="fas fa-comments mr-1"></i> Chat Threads</div>
            
          </h5>
          <div class="text-muted small mb-2">
            <i class="fas fa-info-circle mr-1"></i> Only threads with 10 or more messages are shown and processed for summaries. Student names are redacted for privacy.
          </div>
          <div class="info-box thread-list" id="thread-list">
            
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Killing and Letting Die
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce"><ul>
<li><strong>Students debated whether killing and letting die are morally equivalent by considering contexts like mental illness, terminal conditions, and the ethical responsibilities of healthcare providers.</strong> The discussion saw one student arguing for a cautious approach that emphasizes preserving life and proper palliative care, while the other stressed the role of relieving suffering and maintaining patient autonomy even if it meant actively ending life in extreme cases.</li>
<li><strong>Guide played a pivotal role by asking incisive questions that pushed the students to clarify their positions on consent, doctor obligations, and the impact of societal factors like financial pressures.</strong> Its questions challenged the students to reflect on the consistency of their arguments and the broader ramifications of endorsing either active euthanasia or passive letting die, thereby deepening the overall analysis.</li>
</ul>
<blockquote>
<p><strong>Student 2, how do you weigh the sanctity of life against the reality of suffering? If we accept that patients can refuse treatment (letting die), isn't that already compromising the absolute sanctity of life in favor of patient autonomy?</strong> </p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated whether killing and letting die are morally equivalent by considering contexts like mental illness, terminal conditions, and the ethical responsibilities of healthcare providers.** The discussion saw one student arguing for a cautious approach that emphasizes preserving life and proper palliative care, while the other stressed the role of relieving suffering and maintaining patient autonomy even if it meant actively ending life in extreme cases.
- **Guide played a pivotal role by asking incisive questions that pushed the students to clarify their positions on consent, doctor obligations, and the impact of societal factors like financial pressures.** Its questions challenged the students to reflect on the consistency of their arguments and the broader ramifications of endorsing either active euthanasia or passive letting die, thereby deepening the overall analysis.

  
&gt; **Student 2, how do you weigh the sanctity of life against the reality of suffering? If we accept that patients can refuse treatment (letting die), isn&#39;t that already compromising the absolute sanctity of life in favor of patient autonomy?** </textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==209c3410dd::student-dwfilmvkdq==7d6f80b8dd::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Active Euthanasia
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce"><ul>
<li>
<p><strong>Students discussed the ethical nuances of active euthanasia in depth.</strong> One participant raised concerns about potential misuse and the risk of shifting societal attitudes, while the other argued that careful regulations could make euthanasia a compassionate, well-controlled option to end suffering.</p>
</li>
<li>
<p><strong>Participants compared euthanasia with other regulated practices and ethical decision-making.</strong> The cautious perspective highlighted the risks of external pressures and the slippery slope of devaluing life, whereas the supportive view likened euthanasia to other controlled practices like the regulated sale of knives and pet euthanasia, underscoring the importance of strict oversight.</p>
</li>
<li>
<p><strong>Guide consistently steered the discussion with targeted, clarifying questions.</strong> Its interventions pushed both sides to address core concerns such as safeguards against cultural erosion and the ethical differences between easing pain and potentially devaluing life, helping to keep the dialogue focused and substantive.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce" class="form-control summary-markdown-editor">- **Students discussed the ethical nuances of active euthanasia in depth.** One participant raised concerns about potential misuse and the risk of shifting societal attitudes, while the other argued that careful regulations could make euthanasia a compassionate, well-controlled option to end suffering.

- **Participants compared euthanasia with other regulated practices and ethical decision-making.** The cautious perspective highlighted the risks of external pressures and the slippery slope of devaluing life, whereas the supportive view likened euthanasia to other controlled practices like the regulated sale of knives and pet euthanasia, underscoring the importance of strict oversight.

- **Guide consistently steered the discussion with targeted, clarifying questions.** Its interventions pushed both sides to address core concerns such as safeguards against cultural erosion and the ethical differences between easing pain and potentially devaluing life, helping to keep the dialogue focused and substantive.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==24cd2638dd::student-dwfilmvkdq==fa671a3cdf::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Killing and Letting Die
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce"><ul>
<li>
<p><strong>Students debated whether killing and letting die are morally equivalent.</strong> Student 1 and Student 2 navigated through initial confusion over the statement, with Student 1 clarifying that active killing differs from passive omission while Student 2 argued that both actions can cause active harm depending on context.</p>
</li>
<li>
<p><strong>Students analyzed various scenarios, including medical decisions, rescuing a drowning child, and the death penalty.</strong> Their discussion evolved from contrasting the morality of action versus inaction to questioning if context—such as terminal illness or state execution—can make moral responsibility lighter or heavier.</p>
</li>
<li>
<p><strong>Guide skillfully mediated the discussion by posing probing follow-up questions and challenging ambiguous positions.</strong> It introduced thought-provoking scenarios that prompted both students to reconsider their initial stances and delve deeper into the ethical nuances of actively causing harm versus passively permitting it.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated whether killing and letting die are morally equivalent.** Student 1 and Student 2 navigated through initial confusion over the statement, with Student 1 clarifying that active killing differs from passive omission while Student 2 argued that both actions can cause active harm depending on context.

- **Students analyzed various scenarios, including medical decisions, rescuing a drowning child, and the death penalty.** Their discussion evolved from contrasting the morality of action versus inaction to questioning if context—such as terminal illness or state execution—can make moral responsibility lighter or heavier.

- **Guide skillfully mediated the discussion by posing probing follow-up questions and challenging ambiguous positions.** It introduced thought-provoking scenarios that prompted both students to reconsider their initial stances and delve deeper into the ethical nuances of actively causing harm versus passively permitting it.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==a15461fcdf::student-dwfilmvkdq==ed70a0f2dd::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Active Euthanasia
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce"><ul>
<li>
<p><strong>Students engaged in a dynamic debate on active euthanasia, discussing whether legalizing the practice would undermine trust in medical professionals.</strong> They examined concerns that legalization might push depressed patients toward ending their lives instead of seeking treatment, highlighting the potential for misuse alongside the challenge of establishing clear qualification criteria.</p>
</li>
<li>
<p><strong>Students collaboratively refined their ideas by proposing strict safeguards and oversight mechanisms for active euthanasia.</strong> The discussion evolved into outlining detailed criteria—such as requiring multiple medical opinions, stringent validation of terminal illness, and a limited role for family input—to help balance patient autonomy with the need to prevent abuse, while Guide’s targeted questions kept the dialogue focused and deep.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce" class="form-control summary-markdown-editor">- **Students engaged in a dynamic debate on active euthanasia, discussing whether legalizing the practice would undermine trust in medical professionals.** They examined concerns that legalization might push depressed patients toward ending their lives instead of seeking treatment, highlighting the potential for misuse alongside the challenge of establishing clear qualification criteria.

- **Students collaboratively refined their ideas by proposing strict safeguards and oversight mechanisms for active euthanasia.** The discussion evolved into outlining detailed criteria—such as requiring multiple medical opinions, stringent validation of terminal illness, and a limited role for family input—to help balance patient autonomy with the need to prevent abuse, while Guide’s targeted questions kept the dialogue focused and deep.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==a8cfc07edd::student-dwfilmvkdq==f0dad5d2dd::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Active Euthanasia
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce"><ul>
<li><strong>Students debated active euthanasia as a compassionate option for terminal illnesses while emphasizing strict safeguards.</strong> Student 1 advocated for limiting euthanasia to cases of terminal physical illness with comprehensive oversight, whereas Student 2 highlighted the importance of ensuring that any legalized process remains safe and ethical.  </li>
<li><strong>Students explored the tension between survival and quality of life with nuanced personal and ethical reflections.</strong> They discussed how even surviving a dire illness might lead to a diminished quality of life, and both agreed that having the option should be balanced with rigorous medical and regulatory controls.  </li>
<li><strong>Guide supported the discussion by posing probing questions that deepened the debate on ethical thresholds and safeguards.</strong> Its interventions helped clarify the underlying ethical dilemmas and pushed the conversation toward practical considerations and meaningful reflection.  </li>
</ul>
<blockquote>
<p><strong>Student 2, Student 1 raises an important challenge to your position by introducing quality of life considerations. How do you weigh survival against quality of life when considering euthanasia even if the person could technically survive? At what point, if any, do you think severely diminished quality of life could justify euthanasia?</strong></p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated active euthanasia as a compassionate option for terminal illnesses while emphasizing strict safeguards.** Student 1 advocated for limiting euthanasia to cases of terminal physical illness with comprehensive oversight, whereas Student 2 highlighted the importance of ensuring that any legalized process remains safe and ethical.  
- **Students explored the tension between survival and quality of life with nuanced personal and ethical reflections.** They discussed how even surviving a dire illness might lead to a diminished quality of life, and both agreed that having the option should be balanced with rigorous medical and regulatory controls.  
- **Guide supported the discussion by posing probing questions that deepened the debate on ethical thresholds and safeguards.** Its interventions helped clarify the underlying ethical dilemmas and pushed the conversation toward practical considerations and meaningful reflection.  

&gt; **Student 2, Student 1 raises an important challenge to your position by introducing quality of life considerations. How do you weigh survival against quality of life when considering euthanasia even if the person could technically survive? At what point, if any, do you think severely diminished quality of life could justify euthanasia?**</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==2cdff190df::student-dwfilmvkdq==54f3bcccde::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Aurelia Brouwers
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce"><ul>
<li><strong>Students debated the ethical permissibility of euthanasia for prolonged mental suffering.</strong> Student 1 argued that ending long-term suffering can be morally justified when all medical interventions have failed, while Student 2 maintained that subjective claims of mental distress should be evaluated cautiously with objective markers and strict criteria before medical assistance is considered.</li>
<li><strong>Guide played an active role in deepening the discussion by probing the nuances between physical and mental suffering.</strong> Guide challenged both students to articulate how harm should be defined and whether lab work and patient records could provide reliable evidence for treatment-resistant conditions.</li>
</ul>
<blockquote>
<p><strong>This highlights a fundamental tension: is harm defined by shortening life or by extending futile medical interventions, and what weight should be given to the patient’s own assessment of their suffering?</strong></p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated the ethical permissibility of euthanasia for prolonged mental suffering.** Student 1 argued that ending long-term suffering can be morally justified when all medical interventions have failed, while Student 2 maintained that subjective claims of mental distress should be evaluated cautiously with objective markers and strict criteria before medical assistance is considered.
- **Guide played an active role in deepening the discussion by probing the nuances between physical and mental suffering.** Guide challenged both students to articulate how harm should be defined and whether lab work and patient records could provide reliable evidence for treatment-resistant conditions.

&gt; **This highlights a fundamental tension: is harm defined by shortening life or by extending futile medical interventions, and what weight should be given to the patient’s own assessment of their suffering?**</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==8793533cdd::student-dwfilmvkdq==b47c4be4df::0f08229b42::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Killing and Letting Die
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce"><ul>
<li>
<p><strong>Students discussed the moral equivalence of killing and letting die by examining when inaction constitutes the same wrongdoing as a deliberate act.</strong> Student 1 argued that actively pushing someone is clearly morally wrong, while Student 2 contended that failing to help is equally condemnable because inaction condones harm, leading to a nuanced exploration of moral responsibility in both scenarios.</p>
</li>
<li>
<p><strong>Guide played a pivotal role in steering the conversation toward critical distinctions like capability and contextual responsibility.</strong> Guide’s interventions prompted both students to clarify their positions and consider how factors such as the ability to act and the presence of other bystanders might influence moral culpability without revealing any personal details.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce" class="form-control summary-markdown-editor">- **Students discussed the moral equivalence of killing and letting die by examining when inaction constitutes the same wrongdoing as a deliberate act.** Student 1 argued that actively pushing someone is clearly morally wrong, while Student 2 contended that failing to help is equally condemnable because inaction condones harm, leading to a nuanced exploration of moral responsibility in both scenarios.

- **Guide played a pivotal role in steering the conversation toward critical distinctions like capability and contextual responsibility.** Guide’s interventions prompted both students to clarify their positions and consider how factors such as the ability to act and the presence of other bystanders might influence moral culpability without revealing any personal details.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==c0f33c0ade::student-z21hawwuy29t727419eee7::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Aurelia Brouwers
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce"><ul>
<li>
<p><strong>Students analyzed the moral dimensions of Aurelia Brouwers's euthanasia request, debating whether consent can solely justify such a decision.</strong> Student 1 stressed the importance of individual autonomy and cautioned against the potential risks of allowing euthanasia in cases of mental illness, while Student 2 raised concerns about the influence of mental illness on decision-making and the subsequent effects on family dynamics and treatment options.</p>
</li>
<li>
<p><strong>Guide maintained the discussion’s focus by actively interjecting questions that steered students back to core ethical issues despite side conversations about assignment coordination.</strong> Guide’s interventions, such as probing deeper into whether mental illness impairs true autonomy and querying the adequacy of treatment evaluations, successfully kept the dialogue centered on the complex interplay between consent, mental health, and family impact.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce" class="form-control summary-markdown-editor">- **Students analyzed the moral dimensions of Aurelia Brouwers&#39;s euthanasia request, debating whether consent can solely justify such a decision.** Student 1 stressed the importance of individual autonomy and cautioned against the potential risks of allowing euthanasia in cases of mental illness, while Student 2 raised concerns about the influence of mental illness on decision-making and the subsequent effects on family dynamics and treatment options.

- **Guide maintained the discussion’s focus by actively interjecting questions that steered students back to core ethical issues despite side conversations about assignment coordination.** Guide’s interventions, such as probing deeper into whether mental illness impairs true autonomy and querying the adequacy of treatment evaluations, successfully kept the dialogue centered on the complex interplay between consent, mental health, and family impact.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==3692c9d0df::student-dwfilmvkdq==be8e2cdede::0f08229b42::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Active Euthanasia
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce"><ul>
<li><strong>Students discussed active euthanasia by weighing patient autonomy against the inherent value of life.</strong> Student 1 argued that enabling euthanasia could lead to dangerous power imbalances and potential abuse, while Student 2 maintained that alleviating suffering is paramount when the patient consents to end their life.  </li>
<li><strong>Students explored the ethical role of medical professionals, debating whether doctors should compromise their personal beliefs to provide euthanasia.</strong> They considered safeguards like ethics committees and multiple approvals, with Student 1 emphasizing the sanctity of life and Student 2 advocating for patient-centered choices even in controversial scenarios.  </li>
<li><strong>Guide played a pivotal role by posing incisive questions that deepened the ethical debate.</strong> Guide’s intervention challenged the students to outline clear criteria to determine when a patient's suffering warrants euthanasia, encouraging a nuanced discussion on preventing misuse while respecting genuine cases.</li>
</ul>
<blockquote>
<p><strong>Student 2, regarding Student 1's point about suffering - how do we determine when suffering is 'enough' to justify euthanasia? If we accept that some suffering warrants it, we need clear criteria to prevent misuse while still respecting genuine cases?</strong></p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce" class="form-control summary-markdown-editor">- **Students discussed active euthanasia by weighing patient autonomy against the inherent value of life.** Student 1 argued that enabling euthanasia could lead to dangerous power imbalances and potential abuse, while Student 2 maintained that alleviating suffering is paramount when the patient consents to end their life.  
- **Students explored the ethical role of medical professionals, debating whether doctors should compromise their personal beliefs to provide euthanasia.** They considered safeguards like ethics committees and multiple approvals, with Student 1 emphasizing the sanctity of life and Student 2 advocating for patient-centered choices even in controversial scenarios.  
- **Guide played a pivotal role by posing incisive questions that deepened the ethical debate.** Guide’s intervention challenged the students to outline clear criteria to determine when a patient&#39;s suffering warrants euthanasia, encouraging a nuanced discussion on preventing misuse while respecting genuine cases.
  
&gt; **Student 2, regarding Student 1&#39;s point about suffering - how do we determine when suffering is &#39;enough&#39; to justify euthanasia? If we accept that some suffering warrants it, we need clear criteria to prevent misuse while still respecting genuine cases?**</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==b03ab1d0df::student-z21hawwuy29t7abc1642dd::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Aurelia Brouwers
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce"><ul>
<li><strong>Students debated the ethical dilemma of granting euthanasia by balancing respect for patient autonomy with concerns about medical uncertainty.</strong> Student 1 started by emphasizing the importance of autonomy and compassion but gradually acknowledged the need for caution when treatment options remain unproven, while Student 2 consistently stressed the risks of misjudging cases involving mental illness and the challenges in establishing definitive criteria for euthanasia.  </li>
<li><strong>Guide played a pivotal role in deepening the discussion by challenging the students to consider alternative perspectives and refine their arguments.</strong> It prompted them to explore the implications of denying euthanasia based on potential future recovery and highlighted how difficult it is to draw clear lines in ethically ambiguous scenarios.</li>
</ul>
<blockquote>
<p><strong>Student 2, you raise an important point about age and potential recovery. But if we deny euthanasia to someone because they <em>might</em> get better in 10+ years, aren't we forcing them to endure another decade of intense suffering based on a possibility?</strong> </p>
<p>How do we weigh that certain suffering against potential future improvement?</p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated the ethical dilemma of granting euthanasia by balancing respect for patient autonomy with concerns about medical uncertainty.** Student 1 started by emphasizing the importance of autonomy and compassion but gradually acknowledged the need for caution when treatment options remain unproven, while Student 2 consistently stressed the risks of misjudging cases involving mental illness and the challenges in establishing definitive criteria for euthanasia.  
- **Guide played a pivotal role in deepening the discussion by challenging the students to consider alternative perspectives and refine their arguments.** It prompted them to explore the implications of denying euthanasia based on potential future recovery and highlighted how difficult it is to draw clear lines in ethically ambiguous scenarios.

  
&gt; **Student 2, you raise an important point about age and potential recovery. But if we deny euthanasia to someone because they *might* get better in 10+ years, aren&#39;t we forcing them to endure another decade of intense suffering based on a possibility?** 
&gt;
&gt; How do we weigh that certain suffering against potential future improvement?</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==1329257edf::student-dwfilmvkdq==144d2402de::0f08229b42::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Aurelia Brouwers
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce"><ul>
<li>
<p><strong>Students engaged in a lively debate about the moral permissibility of euthanasia for psychiatric conditions.</strong> They examined whether a formal, medically supervised process was preferable to unassisted suicide, with one student emphasizing the importance of intervention and alternative therapies and the other drawing on personal counseling experience to explain the complexities of mental suffering.</p>
</li>
<li>
<p><strong>Guide provided clear context and posed probing follow-up questions throughout the discussion.</strong> Its structured prompts helped the students explore nuances such as the distinction between temporary and permanent psychiatric suffering, the appropriateness of long-term evaluation periods, and the potential influence of external factors like social media on perceptions of depression.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce" class="form-control summary-markdown-editor">- **Students engaged in a lively debate about the moral permissibility of euthanasia for psychiatric conditions.** They examined whether a formal, medically supervised process was preferable to unassisted suicide, with one student emphasizing the importance of intervention and alternative therapies and the other drawing on personal counseling experience to explain the complexities of mental suffering.

- **Guide provided clear context and posed probing follow-up questions throughout the discussion.** Its structured prompts helped the students explore nuances such as the distinction between temporary and permanent psychiatric suffering, the appropriateness of long-term evaluation periods, and the potential influence of external factors like social media on perceptions of depression.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==2f766320dd::student-dwfilmvkdq==93db5196ef::0f08229b42::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Killing and Letting Die
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce"><ul>
<li><strong>Students debated whether killing is morally equivalent to letting die, focusing on the roles of intention versus consequence.</strong> They discussed scenarios from medicine to bystander situations, with one student arguing that both choices are morally equivalent while the other highlighted the importance of active intent and patient autonomy in distinguishing the acts.</li>
<li><strong>Guide facilitated the conversation with incisive questions that encouraged deeper reflection on cultural, ethical, and practical dimensions.</strong> Guide’s interventions steered the discussion toward unpacking the nuances of moral responsibility and the conflict between personal beliefs and societal obligations.</li>
</ul>
<blockquote>
<p><strong>Student 2, you've consistently emphasized intention as key to the moral distinction. But if we judge actions by their consequences, and both killing and letting die result in a preventable death, why should the actor's intention matter more than the outcome?</strong> </p>
<p>Consider: If someone dies because I deliberately chose not to help them, haven't I intended their death just as much as if I killed them directly?</p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated whether killing is morally equivalent to letting die, focusing on the roles of intention versus consequence.** They discussed scenarios from medicine to bystander situations, with one student arguing that both choices are morally equivalent while the other highlighted the importance of active intent and patient autonomy in distinguishing the acts.
- **Guide facilitated the conversation with incisive questions that encouraged deeper reflection on cultural, ethical, and practical dimensions.** Guide’s interventions steered the discussion toward unpacking the nuances of moral responsibility and the conflict between personal beliefs and societal obligations.

&gt; **Student 2, you&#39;ve consistently emphasized intention as key to the moral distinction. But if we judge actions by their consequences, and both killing and letting die result in a preventable death, why should the actor&#39;s intention matter more than the outcome?** 
&gt;
&gt; Consider: If someone dies because I deliberately chose not to help them, haven&#39;t I intended their death just as much as if I killed them directly?</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==1484d00edd::student-dwfilmvkdq==7208e4c4df::ceab5b2c93::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Active Euthanasia
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce"><ul>
<li>**Students debated the legalization of active euthanasia with one participant warning that legal acceptance could pressure vulnerable populations and erode respect for life. The discussion pivoted around whether advanced palliative care and emotional support could substitute for offering euthanasia, with one side arguing that even excellent care might not abolish all suffering.  </li>
<li>**Guide played a crucial role in deepening the dialogue through incisive questions that challenged the students to confront the ethical nuances of the debate. Its interventions pushed them to consider specific safeguards and scenarios, probing the tension between respecting individual autonomy and protecting society from coercion.  </li>
</ul>
<blockquote>
<p><strong>Student 1, you've made a challenging argument: if better palliative care is the goal, why legalize euthanasia at all? But what would you say to someone who, even with the best possible palliative care, still wants to end their life on their own terms?</strong> </p>
<p>Consider cases of terminal illness where a patient is fully informed, mentally competent, and has access to excellent care, yet still wishes to avoid a prolonged death.</p>
</blockquote></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated the legalization of active euthanasia with one participant warning that legal acceptance could pressure vulnerable populations and erode respect for life. The discussion pivoted around whether advanced palliative care and emotional support could substitute for offering euthanasia, with one side arguing that even excellent care might not abolish all suffering.  
- **Guide played a crucial role in deepening the dialogue through incisive questions that challenged the students to confront the ethical nuances of the debate. Its interventions pushed them to consider specific safeguards and scenarios, probing the tension between respecting individual autonomy and protecting society from coercion.  

&gt; **Student 1, you&#39;ve made a challenging argument: if better palliative care is the goal, why legalize euthanasia at all? But what would you say to someone who, even with the best possible palliative care, still wants to end their life on their own terms?** 
&gt;
&gt; Consider cases of terminal illness where a patient is fully informed, mentally competent, and has access to excellent care, yet still wishes to avoid a prolonged death.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==612b4322df::student-dwfilmvkdq==7c87150edd::b624f9c9b3::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
                <div class="thread-item" id="thread-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce">
                  <div class="thread-header">
                    
                      <span style="font-size: 1.2em; font-weight: bold; color: #23004D;">
                        
                          Students discuss Aurelia Brouwers
                        
                      </span>
                    
                  </div>
                  
                    <div class="thread-summary markdown-content" id="summary-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce"><ul>
<li>
<p><strong>Students debated the moral permissibility of euthanasia in Aurelia Brouwers's case, weighing patient autonomy against the risks of premature decision-making.</strong> Student 1 defended the option by citing real-world experiences in healthcare and arguing that mental suffering is just as significant as physical suffering, while Student 2 stressed the importance of exhaustive treatment and multiple evaluations in cases of mental health struggles.  </p>
</li>
<li>
<p><strong>Students probed the differences between euthanasia for terminal illness and euthanasia based on severe mental suffering.</strong> Student 1 maintained that the nature of suffering does not change the moral calculation, emphasizing individual control over destiny, whereas Student 2 was more cautious, suggesting that additional safeguards and criteria should be present, as evidenced by the contrasting examples they provided regarding treatment efficacy.  </p>
</li>
<li>
<p><strong>Guide played a pivotal role by posing incisive questions that refined the nuances in the discussion.</strong> Guide's interventions prompted the students to clarify whether criteria like expected lifespan or the depth of personal struggle should influence moral judgments around euthanasia, leading them to articulate thoughtful positions on safeguards and patient autonomy.</p>
</li>
</ul></div>
                  
                  <!-- Added status message and spinner elements for summary generation -->
                  <div class="status-message thread-status" id="status-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce" style="display: none;"></div>
                  <div class="spinner-border spinner-border-sm text-orange" role="status" id="spinner-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce" style="display: none;">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <div id="summary-editor-container-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce" class="summary-editor-container" style="display: none;">
                    <div class="alert alert-info">
                      <i class="fas fa-info-circle mr-2"></i> Edit the summary in markdown format.
                    </div>
                    <textarea id="summary-markdown-editor-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce" class="form-control summary-markdown-editor">- **Students debated the moral permissibility of euthanasia in Aurelia Brouwers&#39;s case, weighing patient autonomy against the risks of premature decision-making.** Student 1 defended the option by citing real-world experiences in healthcare and arguing that mental suffering is just as significant as physical suffering, while Student 2 stressed the importance of exhaustive treatment and multiple evaluations in cases of mental health struggles.  

- **Students probed the differences between euthanasia for terminal illness and euthanasia based on severe mental suffering.** Student 1 maintained that the nature of suffering does not change the moral calculation, emphasizing individual control over destiny, whereas Student 2 was more cautious, suggesting that additional safeguards and criteria should be present, as evidenced by the contrasting examples they provided regarding treatment efficacy.  

- **Guide played a pivotal role by posing incisive questions that refined the nuances in the discussion.** Guide&#39;s interventions prompted the students to clarify whether criteria like expected lifespan or the depth of personal struggle should influence moral judgments around euthanasia, leading them to articulate thoughtful positions on safeguards and patient autonomy.</textarea>
                    <div class="mt-3">
                      <button class="btn btn-primary save-summary-btn" data-session-id="student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce">
                        <i class="fas fa-save mr-1"></i> Save Changes
                      </button>
                      <button class="btn btn-secondary ml-2 cancel-summary-edit-btn" data-session-id="student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce">
                        <i class="fas fa-times mr-1"></i> Cancel
                      </button>
                      <div class="spinner-border text-primary ml-2 summary-editor-spinner" role="status" id="summary-editor-spinner-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce" style="display: none;">
                        <span class="sr-only">Saving...</span>
                      </div>
                    </div>
                    <div class="status-message summary-editor-status" id="summary-editor-status-student-dwfilmvkdq==00e8d13cdf::student-dwfilmvkdq==988dab6ade::0f08229b42::e0148b21ce" style="display: none;"></div>
                  </div>
                </div>
              
            
          </div>

          <!-- Removing the button row since we moved it to the header -->
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function debug_log(message, level) {
    console.log('DEBUG:', message);
  }

  // Convert UTC timestamps to local timezone
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('[data-utc-time]').forEach(function(element) {
      const utcTime = element.getAttribute('data-utc-time');
      try {
        const localDate = new Date(utcTime);
        if (!isNaN(localDate)) {
          const options = { 
            year: 'numeric', 
            month: 'short', 
            day: 'numeric', 
            hour: '2-digit', 
            minute: '2-digit',
            hour12: true
          };
          const localTimeStr = localDate.toLocaleString(undefined, options);
          
          // Find the next sibling with class local-time and set its content
          const localTimeElement = element.nextElementSibling;
          if (localTimeElement && localTimeElement.classList.contains('local-time')) {
            localTimeElement.textContent = localTimeStr;
            element.style.display = 'none';
            localTimeElement.style.display = 'inline';
          }
        }
      } catch (e) {
        console.error('Error converting time:', e);
      }
    });
  });
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Theme toggling functionality
  document.addEventListener('DOMContentLoaded', function() {
    const themeToggle = document.getElementById('theme-toggle-input');
    const htmlElement = document.documentElement;
    
    // Check for saved theme preference
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
      htmlElement.classList.remove('dark-mode');
      htmlElement.classList.add('light-mode');
      themeToggle.checked = true;
    } else {
      // Set dark mode as default if no preference found
      htmlElement.classList.add('dark-mode');
      htmlElement.classList.remove('light-mode');
      localStorage.setItem('theme', 'dark');
      themeToggle.checked = false;
    }
    
    // Handle toggle changes
    themeToggle.addEventListener('change', function() {
      if (this.checked) {
        // Switch to light mode
        htmlElement.classList.remove('dark-mode');
        htmlElement.classList.add('light-mode');
        localStorage.setItem('theme', 'light');
      } else {
        // Switch to dark mode
        htmlElement.classList.remove('light-mode');
        htmlElement.classList.add('dark-mode');
        localStorage.setItem('theme', 'dark');
      }
    });
    
    // Handle refresh button click
    const refreshBtn = document.getElementById('refresh-cache-btn');
    if (refreshBtn) {
      refreshBtn.addEventListener('click', function() {
        // Add a spinning animation while refreshing
        const icon = refreshBtn.querySelector('i');
        icon.classList.add('fa-spin');
        
        // Reload the page with bypass_cache=true parameter
        const currentUrl = window.location.href;
        const url = new URL(currentUrl);
        url.searchParams.set('bypass_cache', 'true');
        window.location.href = url.toString();
      });
    }
    
    // Convert UTC timestamps to local timezone
    document.querySelectorAll('[data-utc-time]').forEach(function(element) {
      const utcTime = element.getAttribute('data-utc-time');
      try {
        const localDate = new Date(utcTime);
        if (!isNaN(localDate)) {
          const options = { 
            year: 'numeric', 
            month: 'short', 
            day: 'numeric', 
            hour: '2-digit', 
            minute: '2-digit',
            hour12: true
          };
          const localTimeStr = localDate.toLocaleString(undefined, options);
          
          // Find the next sibling with class local-time and set its content
          const localTimeElement = element.nextElementSibling;
          if (localTimeElement && localTimeElement.classList.contains('local-time')) {
            localTimeElement.textContent = localTimeStr;
            element.style.display = 'none';
            localTimeElement.style.display = 'inline';
          }
        }
      } catch (e) {
        console.error('Error converting time:', e);
      }
    });
  });
  
  // Original convert UTC timestamps function (duplicated in script block below) can be removed
</script>

<script>
  // New code for summary generation progress
  let pollingInterval;
  let cancelRequested = false;

  document.addEventListener('DOMContentLoaded', function() {
    const generateBtn = document.getElementById('generate-btn');
    const cancelBtn = document.getElementById('cancel-btn');
    const reportBtn = document.getElementById('report-btn');
    
    // Initialize the report button state based on whether summaries already exist
    const hasSavedSummaries = false;
    if (reportBtn && hasSavedSummaries) {
      // If we already have saved summaries, enable the report button
      reportBtn.disabled = false;
      console.log("Enabling report button because saved summaries exist");
    }
    
    // Check if any thread is currently in 'generating' status
    const hasGeneratingThreads = Array.from(document.querySelectorAll('.thread-status'))
      .some(el => el.textContent === 'Generating summary...');
    
    if (hasGeneratingThreads) {
      // Start polling if there are already generating threads
      startPolling();
      generateBtn.style.display = 'none';
      cancelBtn.style.display = 'inline-block';
    }
    
    // Handle generate button click
    if (generateBtn) {
      generateBtn.addEventListener('click', function() {
        // Show all spinners and status messages
        document.querySelectorAll('.thread-status').forEach(status => {
          status.textContent = 'Queued for generation...';
          status.style.display = 'block';
          status.className = 'thread-status text-info';
        });
        
        generateBtn.style.display = 'none';
        cancelBtn.style.display = 'inline-block';
        
        // Make AJAX call to queue summaries instead of form submission
        fetch('/assignment/e0148b21ce/generate_summaries', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          }
        })
        .then(response => {
          if (response.ok) {
            debug_log("Summaries queued successfully", 1)
            // Start polling for updates
            startPolling();
            // Enable report button when summaries are being generated
            if (reportBtn) reportBtn.disabled = false;
          } else {
            debug_log("Error queueing summaries", 1)
          }
        })
        .catch(error => {
          debug_log("Network error:", error, 1)
        });
      });
      
      // Handle cancel button
      if (cancelBtn) {
        cancelBtn.addEventListener('click', function() {
          cancelRequested = true;
          fetch('/assignment/e0148b21ce/cancel_generation', {
            method: 'POST'
          }).then(response => {
            if (response.ok) {
              stopPolling();
              // Reset UI
              document.querySelectorAll('.thread-status').forEach(status => {
                if (status.textContent === 'Queued for generation...') {
                  status.style.display = 'none';
                }
              });
              document.querySelectorAll('.spinner-border').forEach(spinner => {
                spinner.style.display = 'none';
              });
              generateBtn.style.display = 'inline-block';
              cancelBtn.style.display = 'none';
            }
          });
        });
      }
    }
    
    // Handle report button click
    if (reportBtn) {
      reportBtn.addEventListener('click', function() {
        // Show spinner
        const reportSpinner = document.getElementById('report-spinner');
        if (reportSpinner) reportSpinner.style.display = 'inline-block';
        
        // Disable button while generating
        reportBtn.disabled = true;
        
        // Change message in report section
        const noReportMsg = document.getElementById('no-report-msg');
        if (noReportMsg) {
          noReportMsg.textContent = 'Generating instructor report...';
          noReportMsg.className = 'text-info mb-0';
        }
        
        // Make AJAX call to generate the report
        fetch('/assignment/e0148b21ce/generate_report', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          }
        })
        .then(response => response.json())
        .then(data => {
          debug_log("Report generation initiated:", data, 1)
          
          // Start polling for report status
          checkReportStatus();
        })
        .catch(error => {
          debug_log("Error generating report:", error, 1)
          reportBtn.disabled = false;
          if (reportSpinner) reportSpinner.style.display = 'none';
          if (noReportMsg) {
            noReportMsg.textContent = 'Error generating report. Please try again.';
            noReportMsg.className = 'text-danger mb-0';
          }
        });
      });
    }
    
    // Handle refresh data button click
    const refreshDataBtn = document.getElementById('refresh-data-btn');
    if (refreshDataBtn) {
      refreshDataBtn.addEventListener('click', function() {
        // Show spinner
        const refreshSpinner = document.getElementById('refresh-spinner');
        if (refreshSpinner) refreshSpinner.style.display = 'inline-block';
        
        // Disable button while refreshing
        refreshDataBtn.disabled = true;
        
        // Make AJAX call to refresh data
        fetch('/assignment/e0148b21ce/refresh_data', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          }
        })
        .then(response => response.json())
        .then(data => {
          debug_log("Data refresh initiated:", data, 1);
          
          // Reload the page to show refreshed data
          window.location.reload();
        })
        .catch(error => {
          debug_log("Error refreshing data:", error, 1);
          if (refreshSpinner) refreshSpinner.style.display = 'none';
          refreshDataBtn.disabled = false;
          alert('Error refreshing data. Please try again.');
        });
      });
    }
    
    // Handle regenerate title button click
    const regenerateTitleBtn = document.getElementById('regenerate-title-btn');
    if (regenerateTitleBtn) {
      regenerateTitleBtn.addEventListener('click', function() {
        // Disable the button and show a spinner icon
        regenerateTitleBtn.disabled = true;
        const icon = regenerateTitleBtn.querySelector('i');
        const originalIcon = icon.className;
        icon.className = 'fas fa-spinner fa-spin';
        
        // Call the regenerate title endpoint
        fetch('/assignment/e0148b21ce/regenerate_title', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          }
        })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            // Update the title text directly
            const titleEl = document.querySelector('.generated-title');
            if (titleEl) {
              titleEl.textContent = data.title;
            }
            // Show success message
            console.log("Title regenerated:", data.title);
          } else {
            console.error("Error regenerating title:", data.message);
            alert("Error regenerating title: " + data.message);
          }
          
          // Reset the button
          regenerateTitleBtn.disabled = false;
          icon.className = originalIcon;
        })
        .catch(error => {
          console.error("Error:", error);
          alert("Error regenerating title. Please try again.");
          
          // Reset the button
          regenerateTitleBtn.disabled = false;
          icon.className = originalIcon;
        });
      });
    }
  });

  function startPolling() {
    if (pollingInterval) {
      clearInterval(pollingInterval);
    }
    
    // Poll every 2 seconds
    pollingInterval = setInterval(checkSummaryStatus, 2000);
    
    // Do an immediate check to start the process
    checkSummaryStatus();
  }

  function stopPolling() {
    if (pollingInterval) {
      clearInterval(pollingInterval);
      pollingInterval = null;
    }
  }

  function checkSummaryStatus() {
    console.log("Checking summary status...");
    fetch('/assignment/e0148b21ce/summary_status')
      .then(response => response.json())
      .then(data => {
        console.log("Status data:", data);
        let activeGeneration = false;
        
        Object.entries(data).forEach(([sessionId, threadInfo]) => {
          const statusEl = document.getElementById(`status-${sessionId}`);
          const summaryEl = document.getElementById(`summary-${sessionId}`);
          const spinnerEl = document.getElementById(`spinner-${sessionId}`);
          
          if (threadInfo.status === 'generating') {
            activeGeneration = true;
            if (statusEl) {
              statusEl.textContent = 'Generating summary...';
              statusEl.style.display = 'block';
              statusEl.className = 'thread-status text-warning';
            }
            if (spinnerEl) {
              spinnerEl.style.display = 'inline-block';
            }
          } else if (threadInfo.status === 'completed') {
            if (statusEl) {
              statusEl.style.display = 'none';
            }
            if (spinnerEl) {
              spinnerEl.style.display = 'none';
            }
            if (summaryEl && threadInfo.summary) {
              summaryEl.innerHTML = threadInfo.summary;
              summaryEl.style.display = 'block';
            }
          } else if (threadInfo.status === 'queued') {
            activeGeneration = true;
            if (statusEl) {
              statusEl.textContent = 'Queued for generation...';
              statusEl.style.display = 'block';
              statusEl.className = 'thread-status text-info';
            }
            if (spinnerEl) {
              spinnerEl.style.display = 'none';
            }
          } else if (threadInfo.status === 'error') {
            if (statusEl) {
              statusEl.textContent = 'Error generating summary';
              statusEl.style.display = 'block';
              statusEl.className = 'thread-status text-danger';
            }
            if (spinnerEl) {
              spinnerEl.style.display = 'none';
            }
          } else if (threadInfo.status === 'skipped') {
            if (statusEl) {
              statusEl.textContent = threadInfo.message || 'Skipped due to insufficient messages';
              statusEl.style.display = 'block';
              statusEl.className = 'thread-status text-warning';
            }
            if (spinnerEl) {
              spinnerEl.style.display = 'none';
            }
          }
        });
        
        // If no thread is still queued or generating, stop polling and reset UI
        if (!activeGeneration) {
          stopPolling();
          document.getElementById('generate-btn').style.display = 'inline-block';
          document.getElementById('cancel-btn').style.display = 'none';
          
          const reportBtn = document.getElementById('report-btn');
          if (reportBtn) reportBtn.disabled = false;
        }
      })
      .catch(error => {
        debug_log('Error checking summary status:', error, 1)
      });
  }
  
  // Function to check the report generation status
  function checkReportStatus() {
    fetch('/assignment/e0148b21ce/report_status')
      .then(response => response.json())
      .then(data => {
        debug_log("Report status:", data, 1)
        
        const reportBtn = document.getElementById('report-btn');
        const reportSpinner = document.getElementById('report-spinner');
        const noReportMsg = document.getElementById('no-report-msg');
        const reportSection = document.getElementById('report-section');
        
        if (data.status === 'completed') {
          // Report is ready, update the UI
          if (reportSpinner) reportSpinner.style.display = 'none';
          if (reportBtn) {
            reportBtn.disabled = false;
            reportBtn.textContent = 'Regenerate report';
          }
          
          // Display the report
          if (reportSection) {
            // Use safe assignment of innerHTML to preserve nested HTML structure
            const reportContent = document.createElement('div');
            reportContent.id = 'report-content';
            reportContent.className = 'markdown-content';
            
            // Add custom CSS to ensure proper nested list rendering
            const styleTag = document.createElement('style');
            styleTag.textContent = `
              #report-content ul ul { 
                margin-top: 0.5em;
                margin-bottom: 0.5em;
                padding-left: 2em;
              }
              #report-content li > ul {
                margin-left: 1em;
              }
            `;
            reportContent.appendChild(styleTag);
            
            // Add the content
            reportContent.innerHTML += data.content;
            
            const generatedText = document.createElement('div');
            generatedText.className = 'text-muted mt-2';
            generatedText.innerHTML = `Generated on: <span class="utc-time" data-utc-time="${data.generated_at}">${data.generated_at}</span><span class="local-time"></span>`;
            
            // Clear the report section and append the new content
            reportSection.innerHTML = '';
            reportSection.appendChild(reportContent);
            reportSection.appendChild(generatedText);
            
            // Convert the timestamp to local time
            const utcTimeElements = reportSection.querySelectorAll('[data-utc-time]');
            utcTimeElements.forEach(function(element) {
              const utcTime = element.getAttribute('data-utc-time');
              try {
                const localDate = new Date(utcTime);
                if (!isNaN(localDate)) {
                  const options = { 
                    year: 'numeric', 
                    month: 'short', 
                    day: 'numeric', 
                    hour: '2-digit', 
                    minute: '2-digit',
                    hour12: true
                  };
                  const localTimeStr = localDate.toLocaleString(undefined, options);
                  
                  // Find the next sibling with class local-time and set its content
                  const localTimeElement = element.nextElementSibling;
                  if (localTimeElement && localTimeElement.classList.contains('local-time')) {
                    localTimeElement.textContent = localTimeStr;
                    element.style.display = 'none';
                    localTimeElement.style.display = 'inline';
                  }
                }
              } catch (e) {
                console.error('Error converting time:', e);
              }
            });
          }
        } else if (data.status === 'generating') {
          // Report is still being generated, check again in 2 seconds
          if (noReportMsg) {
            noReportMsg.textContent = 'Generating instructor report...';
            noReportMsg.className = 'text-info mb-0';
          }
          setTimeout(checkReportStatus, 2000);
        } else if (data.status === 'error') {
          // Error generating report
          if (reportSpinner) reportSpinner.style.display = 'none';
          if (reportBtn) reportBtn.disabled = false;
          if (noReportMsg) {
            noReportMsg.textContent = `Error generating report: ${data.error || 'Unknown error'}`;
            noReportMsg.className = 'text-danger mb-0';
          }
        }
      })
      .catch(error => {
        debug_log('Error checking report status:', error, 1)
        const reportSpinner = document.getElementById('report-spinner');
        const reportBtn = document.getElementById('report-btn');
        const noReportMsg = document.getElementById('no-report-msg');
        
        if (reportSpinner) reportSpinner.style.display = 'none';
        if (reportBtn) reportBtn.disabled = false;
        if (noReportMsg) {
          noReportMsg.textContent = 'Error checking report status. Please try again.';
          noReportMsg.className = 'text-danger mb-0';
        }
      });
  }
</script>

<!-- Add CodeMirror for report editing -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/markdown/markdown.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/material-darker.min.css">

<script>
  // Report editing functionality
  document.addEventListener('DOMContentLoaded', function() {
    const editReportBtn = document.getElementById('edit-report-btn');
    const reportContent = document.getElementById('report-content');
    const reportEditorContainer = document.getElementById('report-editor-container');
    const saveReportBtn = document.getElementById('save-report-btn');
    const cancelReportEditBtn = document.getElementById('cancel-report-edit-btn');
    const editorSpinner = document.getElementById('editor-spinner');
    const statusMessage = document.getElementById('editor-status-message');

    // Initialize CodeMirror if report editor exists
    let reportEditor;
    const reportMarkdownEditor = document.getElementById('report-markdown-editor');
    if (reportMarkdownEditor) {
      reportEditor = CodeMirror.fromTextArea(reportMarkdownEditor, {
        lineNumbers: true,
        theme: 'material-darker',
        mode: 'markdown',
        lineWrapping: true
      });
    }

    // Edit button handler
    if (editReportBtn) {
      editReportBtn.addEventListener('click', function() {
        reportContent.style.display = 'none';
        reportEditorContainer.style.display = 'block';
        // Refresh CodeMirror to ensure proper rendering
        if (reportEditor) reportEditor.refresh();
      });
    }

    // Cancel button handler
    if (cancelReportEditBtn) {
      cancelReportEditBtn.addEventListener('click', function() {
        reportContent.style.display = 'block';
        reportEditorContainer.style.display = 'none';
        statusMessage.style.display = 'none';
      });
    }

    // Save button handler
    if (saveReportBtn) {
      saveReportBtn.addEventListener('click', function() {
        // Get the edited markdown
        const markdown = reportEditor.getValue();
        
        if (!markdown.trim()) {
          showEditorStatus('Report content cannot be empty', 'error');
          return;
        }
        
        // Show spinner
        editorSpinner.style.display = 'inline-block';
        
        // Make API call to save
        fetch('/assignment/e0148b21ce/edit_report', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            markdown: markdown
          })
        })
        .then(response => response.json())
        .then(data => {
          editorSpinner.style.display = 'none';
          
          if (data.success) {
            // Update the displayed content with the HTML returned from the server
            reportContent.innerHTML = data.content;
            
            // Show success message and close editor
            showEditorStatus(data.message, 'success');
            setTimeout(() => {
              reportContent.style.display = 'block';
              reportEditorContainer.style.display = 'none';
              statusMessage.style.display = 'none';
            }, 1500);
          } else {
            showEditorStatus(data.message, 'error');
          }
        })
        .catch(error => {
          editorSpinner.style.display = 'none';
          showEditorStatus('Error saving report: ' + error, 'error');
        });
      });
    }
    
    // Helper to show status messages
    function showEditorStatus(message, type) {
      statusMessage.textContent = message;
      statusMessage.className = `status-message ${type}`;
      statusMessage.style.display = 'block';
      
      if (type === 'success') {
        setTimeout(() => {
          statusMessage.style.display = 'none';
        }, 3000);
      }
    }
  });
</script>

<!-- Add CSS for the editor status messages -->
<style>
  .status-message {
    margin-top: 15px;
    padding: 10px;
    border-radius: 6px;
  }
  .success {
    background-color: rgba(40, 167, 69, 0.2);
    border: 1px solid #28a745;
    color: #28a745;
  }
  .error {
    background-color: rgba(220, 53, 69, 0.2);
    border: 1px solid #dc3545;
    color: #dc3545;
  }
  .CodeMirror {
    height: auto;
    min-height: 300px;
    border-radius: 6px;
    font-family: 'Fira Code', 'Courier New', monospace;
    font-size: 14px;
    padding: 10px 0;
    margin-bottom: 20px;
  }
</style>

<!-- New export button update script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const exportBtn = document.querySelector('a[href*="/export"]');
  if (exportBtn) {
    exportBtn.addEventListener('click', function(e) {
      e.preventDefault();
      // Read the current theme from localStorage (assumes 'theme' is saved as 'light' for light-mode)
      const currentTheme = localStorage.getItem('theme') === 'light' ? 'light-mode' : 'dark-mode';
      const exportUrl = new URL(this.href, window.location.origin);
      exportUrl.searchParams.set('theme', currentTheme);
      window.location.href = exportUrl.toString();
    });
  }
  
  // Set theme class on HTML element for export mode
  if ('True' === 'True' && 'light-mode') {
    document.documentElement.className = 'light-mode';
  }
});
</script>

<script>
  // Summary editing functionality
  document.addEventListener('DOMContentLoaded', function() {
    const editSummaryButtons = document.querySelectorAll('.edit-summary-btn');
    const summaryContainers = document.querySelectorAll('.summary-editor-container');
    const saveSummaryButtons = document.querySelectorAll('.save-summary-btn');
    const cancelSummaryEditButtons = document.querySelectorAll('.cancel-summary-edit-btn');
    const summaryEditors = document.querySelectorAll('.summary-markdown-editor');
    const summaryStatusMessages = document.querySelectorAll('.summary-editor-status');

    editSummaryButtons.forEach((button, index) => {
      button.addEventListener('click', function() {
        const sessionId = this.getAttribute('data-session-id');
        summaryContainers.forEach(container => {
          if (container.id === `summary-editor-container-${sessionId}`) {
            container.style.display = 'block';
          }
        });
        summaryEditors.forEach(editor => {
          if (editor.id === `summary-markdown-editor-${sessionId}`) {
            editor.focus();
          }
        });
      });
    });

    saveSummaryButtons.forEach((button, index) => {
      button.addEventListener('click', function() {
        const sessionId = this.getAttribute('data-session-id');
        const markdown = this.previousElementSibling.value;
        
        if (!markdown.trim()) {
          showSummaryStatus('Summary content cannot be empty', 'error');
          return;
        }
        
        // Show spinner
        const spinner = document.getElementById(`summary-editor-spinner-${sessionId}`);
        spinner.style.display = 'inline-block';
        
        // Make API call to save
        fetch('/assignment/e0148b21ce/edit_summary', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            session_id: sessionId,
            summary_markdown: markdown
          })
        })
        .then(response => response.json())
        .then(data => {
          spinner.style.display = 'none';
          
          if (data.success) {
            // Update the displayed content with the HTML returned from the server
            const summaryContainer = document.getElementById(`summary-editor-container-${sessionId}`);
            summaryContainer.innerHTML = data.content;
            
            // Show success message and close editor
            showSummaryStatus(data.message, 'success');
            setTimeout(() => {
              summaryContainer.style.display = 'none';
              summaryStatusMessages.forEach(status => {
                status.style.display = 'none';
              });
            }, 1500);
          } else {
            showSummaryStatus(data.message, 'error');
          }
        })
        .catch(error => {
          spinner.style.display = 'none';
          showSummaryStatus('Error saving summary: ' + error, 'error');
        });
      });
    });

    cancelSummaryEditButtons.forEach((button, index) => {
      button.addEventListener('click', function() {
        const sessionId = this.getAttribute('data-session-id');
        summaryContainers.forEach(container => {
          if (container.id === `summary-editor-container-${sessionId}`) {
            container.style.display = 'none';
          }
        });
        summaryStatusMessages.forEach(status => {
          status.style.display = 'none';
        });
      });
    });

    // Helper to show status messages
    function showSummaryStatus(message, type) {
      const statusEl = document.getElementById(`summary-editor-status-${sessionId}`);
      statusEl.textContent = message;
      statusEl.className = `status-message ${type}`;
      statusEl.style.display = 'block';
      
      setTimeout(() => {
        statusEl.style.display = 'none';
      }, 5000);
    }
  });
</script>

<!-- Add JavaScript for thread summary editing -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get all edit buttons for summaries
    const editSummaryBtns = document.querySelectorAll('.edit-summary-btn');
    // Get all regenerate buttons for summaries
    const regenerateSummaryBtns = document.querySelectorAll('.regenerate-summary-btn');
    
    // Initialize CodeMirror editors object to store all editors
    const summaryEditors = {};
    
    // Add click handlers to all edit buttons
    editSummaryBtns.forEach(btn => {
      const sessionId = btn.getAttribute('data-session-id');
      const summaryElement = document.getElementById(`summary-${sessionId}`);
      const editorContainer = document.getElementById(`summary-editor-container-${sessionId}`);
      
      // Create CodeMirror editor when edit button is clicked (lazy initialization)
      btn.addEventListener('click', function() {
        summaryElement.style.display = 'none';
        editorContainer.style.display = 'block';
        
        // Initialize CodeMirror if not already done
        if (!summaryEditors[sessionId]) {
          const textarea = document.getElementById(`summary-markdown-editor-${sessionId}`);
          // Get original markdown content from data attribute or use HTML content as fallback
          let markdownContent = textarea.value;
          if (!markdownContent) {
            // This is a simple fallback that won't be perfect - ideally the backend would provide the markdown
            markdownContent = summaryElement.innerHTML.replace(/<button.*?<\/button>/g, '');
          }
          
          summaryEditors[sessionId] = CodeMirror.fromTextArea(textarea, {
            lineNumbers: true,
            theme: 'material-darker',
            mode: 'markdown',
            lineWrapping: true
          });
          
          summaryEditors[sessionId].setValue(markdownContent);
          // Refresh to ensure proper rendering
          summaryEditors[sessionId].refresh();
        } else {
          // Just refresh if already initialized
          summaryEditors[sessionId].refresh();
        }
      });
      
      // Add handler for cancel button
      const cancelBtn = document.querySelector(`.cancel-summary-edit-btn[data-session-id="${sessionId}"]`);
      if (cancelBtn) {
        cancelBtn.addEventListener('click', function() {
          summaryElement.style.display = 'block';
          editorContainer.style.display = 'none';
          document.getElementById(`summary-editor-status-${sessionId}`).style.display = 'none';
        });
      }
      
      // Add handler for save button
      const saveBtn = document.querySelector(`.save-summary-btn[data-session-id="${sessionId}"]`);
      if (saveBtn) {
        saveBtn.addEventListener('click', function() {
          // Get the edited markdown
          const markdown = summaryEditors[sessionId].getValue();
          
          if (!markdown.trim()) {
            showSummaryStatus(sessionId, 'Summary content cannot be empty', 'error');
            return;
          }
          
          // Show spinner
          const spinner = document.getElementById(`summary-editor-spinner-${sessionId}`);
          spinner.style.display = 'inline-block';
          
          // Make API call to save
          fetch(`/assignment/e0148b21ce/edit_summary`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              session_id: sessionId,
              markdown: markdown
            })
          })
          .then(response => response.json())
          .then(data => {
            spinner.style.display = 'none';
            
            if (data.success) {
              // Update the displayed content with the HTML returned from the server
              summaryElement.innerHTML = data.content + 
                `<button type="button" class="btn btn-link btn-sm text-muted p-0 ml-1 regenerate-summary-btn" data-session-id="${sessionId}" title="Regenerate summary" style="vertical-align: baseline; margin-right: 8px;">
                   <i class="fas fa-sync"></i>
                 </button>
                 <button type="button" class="btn btn-link btn-sm text-muted p-0 ml-1 edit-summary-btn" data-session-id="${sessionId}" title="Edit summary" style="vertical-align: baseline;">
                   <i class="fas fa-pencil-alt"></i>
                 </button>`;
              
              // Show success message and close editor
              showSummaryStatus(sessionId, data.message, 'success');
              setTimeout(() => {
                summaryElement.style.display = 'block';
                editorContainer.style.display = 'none';
                document.getElementById(`summary-editor-status-${sessionId}`).style.display = 'none';
                
                // Reattach event listeners to the new buttons
                attachButtonListeners(sessionId);
              }, 1500);
            } else {
              showSummaryStatus(sessionId, data.message || 'Error saving summary', 'error');
            }
          })
          .catch(error => {
            spinner.style.display = 'none';
            showSummaryStatus(sessionId, 'Error saving summary: ' + error, 'error');
          });
        });
      }
    });
    
    // Add click handlers to all regenerate buttons
    regenerateSummaryBtns.forEach(btn => {
      const sessionId = btn.getAttribute('data-session-id');
      const summaryElement = document.getElementById(`summary-${sessionId}`);
      
      btn.addEventListener('click', function() {
        if (confirm('Are you sure you want to regenerate this summary? This will replace the current summary with a newly generated one.')) {
          // Show a spinner in the summary area
          const statusElement = document.getElementById(`status-${sessionId}`);
          const spinnerElement = document.getElementById(`spinner-${sessionId}`);
          
          if (statusElement && spinnerElement) {
            statusElement.textContent = 'Regenerating summary...';
            statusElement.className = 'status-message thread-status text-info';
            statusElement.style.display = 'block';
            spinnerElement.style.display = 'inline-block';
            
            // Hide the summary while it's regenerating
            summaryElement.style.opacity = '0.5';
            
            // Make API call to regenerate
            fetch(`/assignment/e0148b21ce/regenerate_summary`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                session_id: sessionId
              })
            })
            .then(response => response.json())
            .then(data => {
              spinnerElement.style.display = 'none';
              
              if (data.success) {
                // Update the displayed content with the HTML returned from the server
                summaryElement.innerHTML = data.content + 
                  `<button type="button" class="btn btn-link btn-sm text-muted p-0 ml-1 regenerate-summary-btn" data-session-id="${sessionId}" title="Regenerate summary" style="vertical-align: baseline; margin-right: 8px;">
                     <i class="fas fa-sync"></i>
                   </button>
                   <button type="button" class="btn btn-link btn-sm text-muted p-0 ml-1 edit-summary-btn" data-session-id="${sessionId}" title="Edit summary" style="vertical-align: baseline;">
                     <i class="fas fa-pencil-alt"></i>
                   </button>`;
                
                // Reset styles and show success message
                summaryElement.style.opacity = '1';
                statusElement.textContent = data.message;
                statusElement.className = 'status-message thread-status success';
                
                // Reattach event listeners to the new buttons
                attachButtonListeners(sessionId);
                
                setTimeout(() => {
                  statusElement.style.display = 'none';
                }, 3000);
              } else {
                summaryElement.style.opacity = '1';
                statusElement.textContent = data.message || 'Error regenerating summary';
                statusElement.className = 'status-message thread-status error';
                setTimeout(() => {
                  statusElement.style.display = 'none';
                }, 5000);
              }
            })
            .catch(error => {
              spinnerElement.style.display = 'none';
              summaryElement.style.opacity = '1';
              statusElement.textContent = 'Error regenerating summary: ' + error;
              statusElement.className = 'status-message thread-status error';
              setTimeout(() => {
                statusElement.style.display = 'none';
              }, 5000);
            });
          }
        }
      });
    });
    
    // Function to reattach event listeners after content is updated
    function attachButtonListeners(sessionId) {
      // Find the newly created buttons
      const newEditBtn = document.querySelector(`.edit-summary-btn[data-session-id="${sessionId}"]`);
      const newRegenerateBtn = document.querySelector(`.regenerate-summary-btn[data-session-id="${sessionId}"]`);
      
      // Reattach edit button listener
      if (newEditBtn) {
        const summaryElement = document.getElementById(`summary-${sessionId}`);
        const editorContainer = document.getElementById(`summary-editor-container-${sessionId}`);
        
        newEditBtn.addEventListener('click', function() {
          summaryElement.style.display = 'none';
          editorContainer.style.display = 'block';
          
          // Reinitialize or refresh CodeMirror
          if (!summaryEditors[sessionId]) {
            const textarea = document.getElementById(`summary-markdown-editor-${sessionId}`);
            let markdownContent = textarea.value;
            if (!markdownContent) {
              markdownContent = summaryElement.innerHTML.replace(/<button.*?<\/button>/g, '');
            }
            
            summaryEditors[sessionId] = CodeMirror.fromTextArea(textarea, {
              lineNumbers: true,
              theme: 'material-darker',
              mode: 'markdown',
              lineWrapping: true
            });
            
            summaryEditors[sessionId].setValue(markdownContent);
            summaryEditors[sessionId].refresh();
          } else {
            summaryEditors[sessionId].refresh();
          }
        });
      }
      
      // Reattach regenerate button listener
      if (newRegenerateBtn) {
        newRegenerateBtn.addEventListener('click', function() {
          if (confirm('Are you sure you want to regenerate this summary? This will replace the current summary with a newly generated one.')) {
            const summaryElement = document.getElementById(`summary-${sessionId}`);
            const statusElement = document.getElementById(`status-${sessionId}`);
            const spinnerElement = document.getElementById(`spinner-${sessionId}`);
            
            if (statusElement && spinnerElement) {
              statusElement.textContent = 'Regenerating summary...';
              statusElement.className = 'status-message thread-status text-info';
              statusElement.style.display = 'block';
              spinnerElement.style.display = 'inline-block';
              
              summaryElement.style.opacity = '0.5';
              
              fetch(`/assignment/e0148b21ce/regenerate_summary`, {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                  session_id: sessionId
                })
              })
              .then(response => response.json())
              .then(data => {
                spinnerElement.style.display = 'none';
                
                if (data.success) {
                  summaryElement.innerHTML = data.content + 
                    `<button type="button" class="btn btn-link btn-sm text-muted p-0 ml-1 regenerate-summary-btn" data-session-id="${sessionId}" title="Regenerate summary" style="vertical-align: baseline; margin-right: 8px;">
                       <i class="fas fa-sync"></i>
                     </button>
                     <button type="button" class="btn btn-link btn-sm text-muted p-0 ml-1 edit-summary-btn" data-session-id="${sessionId}" title="Edit summary" style="vertical-align: baseline;">
                       <i class="fas fa-pencil-alt"></i>
                     </button>`;
                  
                  summaryElement.style.opacity = '1';
                  statusElement.textContent = data.message;
                  statusElement.className = 'status-message thread-status success';
                  
                  attachButtonListeners(sessionId);
                  
                  setTimeout(() => {
                    statusElement.style.display = 'none';
                  }, 3000);
                } else {
                  summaryElement.style.opacity = '1';
                  statusElement.textContent = data.message || 'Error regenerating summary';
                  statusElement.className = 'status-message thread-status error';
                  setTimeout(() => {
                    statusElement.style.display = 'none';
                  }, 5000);
                }
              })
              .catch(error => {
                spinnerElement.style.display = 'none';
                summaryElement.style.opacity = '1';
                statusElement.textContent = 'Error regenerating summary: ' + error;
                statusElement.className = 'status-message thread-status error';
                setTimeout(() => {
                  statusElement.style.display = 'none';
                }, 5000);
              });
            }
          }
        });
      }
    }
    
    // Helper to show status messages for summary editing
    function showSummaryStatus(sessionId, message, type) {
      const statusElement = document.getElementById(`summary-editor-status-${sessionId}`);
      statusElement.textContent = message;
      statusElement.className = `status-message summary-editor-status ${type}`;
      statusElement.style.display = 'block';
      
      if (type === 'success') {
        setTimeout(() => {
          statusElement.style.display = 'none';
        }, 3000);
      }
    }
  });
</script>

<script>
  // Handle regenerate title button click
  const regenerateTitleBtn = document.getElementById('regenerate-title-btn');
  if (regenerateTitleBtn) {
    regenerateTitleBtn.addEventListener('click', function() {
      // Disable the button and show a spinner icon
      regenerateTitleBtn.disabled = true;
      const icon = regenerateTitleBtn.querySelector('i');
      const originalIcon = icon.className;
      icon.className = 'fas fa-spinner fa-spin';
      
      // Call the regenerate title endpoint
      fetch('/assignment/e0148b21ce/regenerate_title', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        }
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          // Update the title text directly
          const titleEl = document.querySelector('.generated-title');
          if (titleEl) {
            titleEl.textContent = data.title;
          }
          // Show success message
          console.log("Title regenerated:", data.title);
        } else {
          console.error("Error regenerating title:", data.message);
          alert("Error regenerating title: " + data.message);
        }
        
        // Reset the button
        regenerateTitleBtn.disabled = false;
        icon.className = originalIcon;
      })
      .catch(error => {
        console.error("Error:", error);
        alert("Error regenerating title. Please try again.");
        
        // Reset the button
        regenerateTitleBtn.disabled = false;
        icon.className = originalIcon;
      });
    });
  }
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    let pollingInterval = null;

    // Debug logging function
    function debug_log(message, level, details = null) {
      if (details) {
        console.log(`DEBUG[${level}]: ${message}`, details);
      } else {
        console.log(`DEBUG[${level}]: ${message}`);
      }
    }
    
    // Initialize the report button state based on saved summaries status
    const reportBtn = document.getElementById('report-btn');
    const hasSavedSummaries = false;
    
    if (reportBtn && hasSavedSummaries) {
      // If we already have saved summaries, enable the report button
      reportBtn.disabled = false;
      debug_log("Enabling report button because saved summaries exist", 1);
    }
  });
</script>

<script>
  // This script handles dark mode parameter in URL
  document.addEventListener('DOMContentLoaded', function() {
    // Check for darkmode parameter in URL
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('darkmode') === 'true') {
      // Create and append dark mode styles
      const darkModeStyle = document.createElement('style');
      darkModeStyle.textContent = `
        body { background-color: #1a1a1a !important; }
        body, div, section, article, aside, header, footer, main, p, span, h1, h2, h3, h4, h5, h6, li, td, th {
          color: #e6e6e6 !important;
        }
        .answer-card, .question-card, .card, .container, .container-fluid, .row {
          background-color: #2a2a2a !important;
          color: #e6e6e6 !important;
        }
        a { color: #88afd3 !important; }
        pre, code { background-color: #333 !important; color: #f8f8f8 !important; }
        table, tr, td, th { border-color: #444 !important; background-color: #2a2a2a !important; }
        input, textarea, select { background-color: #333 !important; color: #e6e6e6 !important; }
        blockquote { background-color: #333 !important; border-left-color: #666 !important; }
        .panel, .panel-default, .panel-body, .panel-heading { 
          background-color: #2a2a2a !important; 
          color: #e6e6e6 !important;
          border-color: #444 !important;
        }
        .text-muted, .text-secondary { color: #aaa !important; }
        .bg-light, .bg-white { background-color: #2a2a2a !important; }
        .border { border-color: #444 !important; }
      `;
      document.head.appendChild(darkModeStyle);
    }
  });
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        color: #e6e6e6 !important;
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>

<script>
  // Dark mode implementation
  (function() {
    // Only apply if the darkmode parameter is true
    if (!isDarkModeEnabled()) return;
    
    // Get our style element
    const darkStyles = document.getElementById('darkmode-styles');
    
    // Set comprehensive dark mode styles
    darkStyles.textContent = `
      /* Force literally everything to dark mode */
      html, body { 
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
      }
      
      /* Target ALL elements with a wildcard selector */
      * {
        background-color: transparent !important;
        border-color: #444 !important;
      }
      
      /* Explicitly target common containers */
      div, section, article, aside, header, footer, main, nav,
      .container, .row, .col, .card, .panel, .jumbotron, .well,
      [class*="container"], [class*="wrapper"], [class*="panel"], 
      [class*="card"], [class*="box"], [class*="section"],
      [id*="container"], [id*="wrapper"], [id*="panel"], 
      [id*="card"], [id*="box"], [id*="section"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Force background colors for specific elements */
      [class*="bg-"], [class*="background"], 
      [style*="background"], [style*="bg"] {
        background-color: #2a2a2a !important;
      }
      
      /* White elements and their children */
      [class*="white"], [class*="light"],
      [style*="white"], [style*="rgb(255"], [style*="rgb(248"],
      [style*="rgb(250"], [style*="rgb(252"], [style*="rgb(240"],
      [style*="rgb(245"], [style*="#fff"], [style*="#ffffff"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Bootstrap and common framework classes */
      .bg-white, .bg-light, .bg-default, .bg-secondary,
      .text-dark, .text-black {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Links */
      a, a:visited, a:hover, a:active, .link, [class*="link"] {
        color: #88afd3 !important;
      }
      
      /* Code and pre elements */
      pre, code, .code, .pre, [class*="code"], [class*="pre"] {
        background-color: #333 !important;
        color: #f8f8f8 !important;
      }
      
      /* Tables */
      table, tr, td, th, thead, tbody, tfoot,
      .table, [class*="table"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Form elements */
      input, textarea, select, button, .form-control,
      [class*="input"], [class*="button"], [class*="form"] {
        background-color: #333 !important;
        color: #e6e6e6 !important;
        border-color: #555 !important;
      }
      
      /* Modals and popups */
      .modal, .popover, .tooltip, .dropdown-menu,
      [class*="modal"], [class*="popover"], [class*="tooltip"], [class*="dropdown"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
        border-color: #444 !important;
      }
      
      /* Sway specific elements observed in screenshot */
      [class*="assignment-details"], [class*="details"],
      .card-like, .topic-section, [class*="topic"],
      [class*="student"], [class*="discuss"], [class*="debate"],
      [class*="abortion"], [class*="timeline"],
      .marquis, .hendricks, .thomson, .singer,
      .guide, .completion {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Specific elements in the screenshot */
      .students-discuss, .student-debate, .debate-section,
      [class*="discuss"], [class*="debate"], 
      [style*="background-color: rgb(255, 255, 255)"] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }

      /* General text colors and backgrounds */
      h1, h2, h3, h4, h5, h6, p, span, li, strong, em, b, i, u,
      label, small, .text, [class*="text"] {
        color: #e6e6e6 !important;
      }
      
      /* Target RGB inline styles specifically */
      [style*="rgb("] {
        background-color: #2a2a2a !important;
        color: #e6e6e6 !important;
      }
      
      /* Override any !important inline styles with double !important (hack but effective) */
      [style*="!important"] {
        background-color: #2a2a2a !important !important;
        color: #e6e6e6 !important !important;
      }
      
      /* Fix for dark purple text against dark background */
      h1, h2, h3, h4, h5, h6, 
      [style*="purple"], [style*="violet"], 
      [class*="purple"], [class*="violet"],
      [style*="rgb(128, 0, 128)"], [style*="rgb(138, 43, 226)"],
      [style*="rgb(75, 0, 130)"], [style*="rgb(106, 90, 205)"],
      [style*="rgb(147, 112, 219)"], [style*="rgb(153, 50, 204)"],
      [style*="color: #800080"], [style*="color: #8a2be2"],
      [style*="color: #4b0082"], [style*="color: #6a5acd"] {
        color: #bb86fc !important; /* Light purple that works on dark backgrounds */
      }
      
      /* Specific fix for topic headers and main title */
      .generated-title, [class*="title"],
      [id*="topic"], [class*="topic"],
      [id*="marquis"], [class*="marquis"],
      [id*="hendricks"], [class*="hendricks"],
      [id*="thomson"], [class*="thomson"],
      [id*="singer"], [class*="singer"],
      [id*="abortion"], [class*="abortion"] {
        color: #bb86fc !important; /* Light purple */
      }

      /* Add specific targeting for the #23004D dark purple color */
      [style*="color: #23004D"], [style*="color:#23004D"],
      [style*="color: rgb(35, 0, 77)"], [style*="color:rgb(35, 0, 77)"],
      [style*="color: rgba(35, 0, 77"], [style*="color:rgba(35, 0, 77"],
      [class*="text-primary"], /* Common bootstrap class that might use this color */
      .assignment-details h1 + div, /* Target divs immediately after headings in assignment details */
      .topic-list span, /* Target spans in topic lists */
      .topic-container * /* Target all elements in topic containers */
      {
        color: #bb86fc !important; /* Light purple for readability */
      }
    `;
    
    // Function to force dark backgrounds on elements that resist
    function forceDarkElements() {
      // Get all elements
      const allElements = document.querySelectorAll('*');
      
      // Check the computed style of all elements
      allElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bgColor = style.backgroundColor;
        const textColor = style.color;
        
        // If it's still white or very light (rgb values close to 255)
        if (bgColor.includes('rgb(255, 255, 255)') || 
            bgColor.includes('rgb(248') ||
            bgColor.includes('rgb(250') ||
            bgColor.includes('rgb(252') ||
            bgColor.includes('rgb(245')) {
          // Force it to be dark with inline style (highest specificity)
          el.style.setProperty('background-color', '#2a2a2a', 'important');
          el.style.setProperty('color', '#e6e6e6', 'important');
        }
        
        // Check for dark purple text that would be hard to read
        if (textColor.includes('rgb(128, 0, 128)') || // purple
            textColor.includes('rgb(75, 0, 130)') ||  // indigo
            textColor.includes('rgb(106, 90, 205)') || // slate blue
            textColor.includes('rgb(138, 43, 226)') || // blue violet
            textColor.includes('rgb(147, 112, 219)') || // medium purple
            textColor.includes('rgb(153, 50, 204)') || // dark orchid
            textColor.includes('rgb(102, 51, 153)') || // rebecca purple
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) < 150 && 
             parseInt(textColor.match(/\d+/g)[1]) < 100 && 
             parseInt(textColor.match(/\d+/g)[2]) > 150)) { // Any dark purplish color
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important'); // Material Design purple
        }

        // Add specific check for the #23004D dark purple
        if (textColor === 'rgb(35, 0, 77)' || 
            textColor.includes('#23004D') ||
            (textColor.includes('rgb(') && 
             parseInt(textColor.match(/\d+/g)[0]) === 35 && 
             parseInt(textColor.match(/\d+/g)[1]) === 0 && 
             parseInt(textColor.match(/\d+/g)[2]) === 77)) {
          
          // Replace with a lighter purple that's readable on dark backgrounds
          el.style.setProperty('color', '#bb86fc', 'important');
        }
      });
    }
    
    // Run once when loaded
    document.addEventListener('DOMContentLoaded', function() {
      forceDarkElements();
      
      // And again after all images and resources load
      window.addEventListener('load', forceDarkElements);
      
      // And periodically check for any dynamic content
      setInterval(forceDarkElements, 1000);
    });
  })();
</script>
</body>
</html>